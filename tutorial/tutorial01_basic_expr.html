<!DOCTYPE html>
<html>
<head><meta charset="utf-8" />
<title>Chapter 1. Basic Expressions</title>

<style type="text/css">
/* Overrides of notebook CSS for static HTML export */
body {
  overflow: visible;
  padding: 8px;
}
div#notebook {
  overflow: visible;
  border-top: none;
}@media print {
  div.cell {
    display: block;
    page-break-inside: avoid;
  } 
  div.output_wrapper { 
    display: block;
    page-break-inside: avoid; 
  }
  div.output { 
    display: block;
    page-break-inside: avoid; 
  }
}
</style>

<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="notebook.css">

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML">
</script></head>
<body>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">
    <a href="../index.html"><img src="../pv_it.png" alt="logo" style="width:50px;float:left;position:absolute"></a> 

<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Chapter-1.-Basic-Expressions">Chapter 1. Basic Expressions<a class="anchor-link" href="#Chapter-1.-Basic-Expressions">&#182;</a></h1><p>Expressions in <strong>Prove-It</strong> are fundamental and versatile.  In order to prove some statement to be true, you must be able to express the statement that you want to prove, and express each axiom and each theorem that is used to construct the proof as well as intermediate statements along the way.<br>
<strong>Expressions</strong> form the basis for <strong>known truths</strong> that are used in the derivation steps of a <strong>proof</strong> and will be discussed later.
An expression is a tree-like data structure (technically a directed acyclic graph, DAG, since there may be multiple instances of the same sub-expression).  As a Python object, its base class is <code>proveit._core_.expression.expr.Expression</code> (also aliased as <code>proveit.Expression</code> via "<code>from ... import ...</code>" Python statements within <code>__init__.py</code> files):</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">Expression</span>
<span class="o">%</span><span class="k">begin</span> basic_expressions
<span class="n">Expression</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[1]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>proveit._core_.expression.expr.Expression</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>An <code>Expression</code> object must be one of the "core" <code>Expression</code> classes listed below that is each derived from <code>proveit._core_.expression.expr.Expression</code>.  The list is reproduced from our <a class="ProveItLink" href="../guide.html">Guide to the Prove-It Library of Proofs</a> but more details and some code examples are provided below in this tutorial.  The "basic" types of expressions that are covered in this chapter are:</p>
<ul>
<li><a href="#Variable">`Variable`</a>: A label that is interchangeable (as long as it is kept distinct from other labels) with no intrinsic meaning.  It is usually represented by a single letter but can have any representation.</li>
<li><a href="#Literal">`Literal`</a>: A label that is not interchangeable and has an intrinsic meaning.  Specific operators ($\lnot, \land, +, \times$, etc.) and specific irreducibe values ($\top, \bot, 0, 5$, etc.) are all <code>Literal</code>s.  Furthermore, a problem-story <code>Variable</code> in a particular <strong>context</strong>, representing some unknown but particular value, should also be a <code>Literal</code> (e.g., "Ann has $a$ apples...").</li>
<li><a href="#Operation">`Operation`</a>: The application of <em>operator(s)</em> on <em>operand(s)</em>.  For example, $0 + 5 + 8$ and $1 &lt; a \leq b &lt; 3$ are examples of <em>operation</em> expressions.  The <strong>Prove-It</strong> library defines many <em>types</em> derived from the <em>operation</em> type (e.g., for each specific operation), but the <a href="#proof_deriv">derivation rules</a> only need to know that these are <em>operations</em>.</li>
<li><a href="#Lambda">`Lambda`</a>: A mapping defined by <em>parameter</em> <code>Variable</code>s transforming to some <em>body</em> <code>Expression</code> but only when the <em>parameter(s)</em> meet certain <em>condition(s)</em>.  For example, $(x, y, z) \mapsto x+y/z~|~x \in \mathbb{R}, y \in \mathbb{R}, z \in \mathbb{R}, z \neq 0$ is a conditional <strong>lambda</strong> that converts three real numbers $x, y, z$ to $x + y/z$ as long as $z$ is not zero.  Note that a <code>Lambda</code> introduces <code>Variables</code> into a new scope via the <em>parameters</em>.  These <em>parameter</em> <code>Variable</code>s are said to be <em>bound</em> in this new scope; occurrences outside this scope are not deemed to be the same thing. There is a special category of <code>Operation</code> types called <code>OperationOverInstances</code> that are essentially functionals acting on a <code>Lambda</code> operand.  $\forall$, $\exists$, $\sum$, and $\prod$ are examples of <code>OperationOverInstances</code>.  For example, $\forall_{x~|~Q(x)} P(x)$ is an expression that translates to "$P(x)$ is true for all values of $x$ for which $Q(x)$ is also true".  Internally, this is represented as an $\forall$ operator acting on the conditional <code>Lambda</code> map $x \mapsto P(x)~|~Q(x)$.</li>
<li><a href="#ExprTuple">`ExprTuple`</a>: A list of <code>Expression</code>s that is used, for example, when there are multiple <em>operators</em> or <em>operands</em> of an <code>Operation</code> or multiple <em>parameters</em> of a <code>Lambda</code>.</li>
<li><a href="#NamedExprs">`NamedExprs`</a>: A mapping from keyword strings to <code>Expression</code>s.  This can be used to prevent ambiguity of an expression's internal representation.</li>
</ul>
<p>Advanced expressions covered in a <a href="tutorial10_advanced_expr.ipynb">later chapter</a>:</p>
<ul>
<li><a href="tutorial10_advanced_expr.ipynb#ExprArray">`ExprArray`</a>: A multi-dimensional (e.g., two-dimensional) array of <code>Expression</code>s. This can be used, for example, to represent a quantum circuit which is a two-dimensional graphical representation of a sequence of quantum operations.  A 2-D representation of a matrix is a more basic example.  More work is required to properly implement and test the <em>ExprArray</em> class.</li>
<li><a href="tutorial10_advanced_expr.ipynb#Indexed">`Indexed`</a>: A particular indexed element of a <code>Variable</code> where the <code>Variable</code> is intended to serve as a placeholder for an <code>ExprTuple</code> or <code>ExprArray</code>.  It has a <em>base</em> which determines the indexing offset, typically $0$ or $1$.  For example, $x_5$ represents the fifth or sixth element of $x$ in <em>base</em> $1$ or $0$ respectively.  The <em>base</em> is typically not displayed and must be inferred by the context, though it is explicitly revealed in the <a href="#expr_info">expression information page</a>.  An <code>Indexed</code> expression is typically contained within an <code>Iter</code> (described next).</li>
<li><a href="tutorial10_advanced_expr.ipynb#Iter">`Iter`</a>: Represents an iteration of a <em>parameter</em> going from a <em>start</em> to an <em>end</em> in successive unit increments ($+1$).  For example, $x_1 +~\ldots~+ x_n$ contains an <code>Iter</code> of <code>Indexed</code> <code>Variable</code>.  If we take $n$ to be $3$, this would expand to $x_1 + x_2 + x_3$.  An <code>Iter</code> has a <em>lambda map</em>, <em>start index(indices)</em>, and <em>end index(indices)</em>.  In our example, the <code>Iter</code> $x_1,~\ldots,x_n$, is the <em>operand</em> of an <code>proveit.number.addition.Add</code> <code>Operation</code>.  The <em>lambda map</em>, <em>start index</em> and <em>end index</em> of the <em>iteration</em> are $i \mapsto x_i$, $1$, and $n$, respectively.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Developers and users may derive new classes from core <code>Expression</code> classes (<code>Literal</code> and <code>Operation</code> classes in <em> <a href="tutorial10_advanced_expr.ipynb#ExprArray">`ExprArray`</a>: A multi-dimensional (e.g., two-dimensional) array of <code>Expression</code>s. This can be used, for example, to represent a quantum circuit which is a two-dimensional graphical representation of a sequence of quantum operations.  A 2-D representation of a matrix is a more basic example.  More work is required to properly implement and test the </em>ExprArray* class.particular) to make their own <code>Expression</code> classes that have special formatting rules for displaying the <strong>expression</strong> and methods for manipulating and utilizing the expression (i.e., applying theorems or axioms as will be discussed in later tutorial chapters).  Ideally, the formatted should be in direct correspondence with the structure of the <code>Expression</code> as a true reflection of the internal representation, but there is no enforcement mechanism to ensure that this is the case.  Users are advised to inspect the fully explicit expression DAGs of important axioms and theorems (or rely on crowdsource checking).  Conveniently, clicking on any <strong>expression</strong> rendered as LaTeX will link to a notebook that, when executed, will reveal this internal structure.  (Alternatively, the <code>exprInfo()</code> method may be called).</p>
<p>The remainder of this tutorial chapter will show examples and discuss details of the different core <code>Expression</code> classes.</p>
<p>As we discuss these different core types we will discuss the instances when <strong>expressions</strong> are considered to be the same or different.  This is important because it corresponds to whether or not an <strong>expression</strong> is the same as one that has been proven to be a true statement (<strong>known truth</strong>).</p>
<p>We will also discuss <em>expression substitution/relabeling</em> as we go through the different cases.  The following are related but distinct manipulations in <strong>Prove-It</strong>:</p>
<ul>
<li><em>Expression substutition</em>: creating a new <strong>expression</strong> from an existing <strong>expression</strong> by swapping one or more sub-expression(s) for other sub-expression(s) by using the <code>substituted</code> method.  This creates a new <code>Expression</code> but has nothing to do, intrinsically, with proving statements.</li>
<li><em>Expression relabeling</em>: a restricted version of <em>expression substitution</em> in which any <code>Variable</code> may be relabeled only with another <code>Variable</code> by using the <code>relabeled</code> method.</li>
<li><em>Specialization</em> derivation step: deriving a statement of the form $P(y)$ from a statement of the form $\forall_x P(x)$.  Details of this will be discussed in a <a href="tutorial05_forall.ipynb">later tutorial chapter</a>, but this manipulation uses <em>expression substitution</em> in generating $P(y)$.  However, specific rules and limitations apply to <em>specialization</em> that may not apply to <em>expression substitution</em> to ensure that the derivation is sound.  <em>Specialization</em> specifically involves statements (<strong>known truths</strong>) with the $\forall$ quantifier (<code>Forall</code>).</li>
<li><em>Relabeling</em> derivation step: deriving a statement (known truth) from another statement which differs only in its <code>Variable</code>s.  For example, from $\forall_x P(x)$, we could use <em>relabeling</em> to derive $\forall_y P(y)$.</li>
<li><em>Equality substitution</em>: using the <code>substitution</code> axiom of <code>proveit.logic.equality</code> to prove that $f(x) = f(y)$ given $x = y$.  This uses <em>specialization</em> of the <code>substitution</code> axiom which states $\forall_{f, x, y~|~x=y}~(f(x) = f(y))$.  This specifically involves statements (<strong>known truths</strong>) with the <code>proveit.logic.equality.equals._operator_</code> <strong>Literal</strong> (the <code>=</code> sign). This will be discussed in a later tutorial chapter.</li>
</ul>
<p>The focus here will be <em>expression substitution/relabeling</em> with some mention of the additional restrictions applicable to the <em>specialization/relabeling</em> derivation steps that will be discussed in detail in later tutorial chapters.  It is important to understand the distinctions among these types of manipulations.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Labels-(Variables-and-Literals)"><a name="#Label" />Labels (Variables and Literals)<a class="anchor-link" href="#Labels-(Variables-and-Literals)">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">Label</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>Variable</code> and <code>Literal</code> classes both derive from <code>Label</code>.  A <code>Label</code> is created with a string and a LaTeX format specification to determine how it is displayed.  In a Jupyter notebook, the LaTeX is rendered and presented in the output:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tri</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">stringFormat</span><span class="o">=</span><span class="s1">&#39;triangle&#39;</span><span class="p">,</span> <span class="n">latexFormat</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;\triangle&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[3]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="tri">tri:</strong> <a class="ProveItLink" href="__pv_it/b8bc794ff7aade9592ba459dc1fb9c2587bb1feb0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPBAMAAADwnzkiAAAAMFBMVEX///8QEBC6urqIiIhmZmaY
mJju7u5ERERUVFSqqqrc3NwiIiIyMjJ2dnbMzMwAAADBkaYtAAAAAXRSTlMAQObYZgAAAF5JREFU
CNdjYGBg4LvAAAU8u2CsGc9hrGMcDyAM1gtcByAs7gQGTwjLmIEhG8xg28DAwBsAYoHJDSBWDlQF
A0MTVBcDVwGIxenAwMAOMfUUA8MLiFEaDAyNu8FgfwIA3xQU9d3v5zQAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>After importing anything from <code>proveit</code> in a Jupyter notebook, whenever assignments are made at the end of an input cell the output shows the name of the assigned Python variable (not to be confused with a <strong>Prove-It</strong> <em>Variable</em>) followed by ':' and its rendered value.  In the above input, we have assigned <code>tri</code> to a <code>Label</code> object we have created which renders as a triangle shape.  For convenience, this Python variable name and shape appear in the output without any additional code.  The string format is presented when the object is converted to a string and is a useful alternate representation (used, for example, in error messages that are displayed as strings).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">str</span><span class="p">(</span><span class="n">tri</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;triangle&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The breakdown of an <strong>expression</strong> into its DAG structure is displayed by calling <code>exprInfo()</code>.  Clicking on the <strong>expression</strong> is also a way to view this information, linking to a page that shows a canonical way to build the <strong>expression</strong> and calling <code>exprInfo()</code> on that built <strong>expression</strong>.  Here we see that the <code>tri</code> is a <code>Label</code> with no sub-expressions.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tri</span><span class="o">.</span><span class="n">exprInfo</span><span class="p">()</span> <span class="c1"># the expressions and sub-expressions are numbered with the top level being zero.</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[5]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><th>&nbsp;</th><th>core type</th><th>sub-expressions</th><th>expression</th></tr>
<tr><td>0</td><td>Label</td><td></td><td><a class="ProveItLink" href="__pv_it/b8bc794ff7aade9592ba459dc1fb9c2587bb1feb0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPBAMAAADwnzkiAAAAMFBMVEX///8QEBC6urqIiIhmZmaY
mJju7u5ERERUVFSqqqrc3NwiIiIyMjJ2dnbMzMwAAADBkaYtAAAAAXRSTlMAQObYZgAAAF5JREFU
CNdjYGBg4LvAAAU8u2CsGc9hrGMcDyAM1gtcByAs7gQGTwjLmIEhG8xg28DAwBsAYoHJDSBWDlQF
A0MTVBcDVwGIxenAwMAOMfUUA8MLiFEaDAyNu8FgfwIA3xQU9d3v5zQAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
</table>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>Label</code> was not one of the core <strong>expression</strong> types listed above because it is not intended to be used except as the base class of <code>Variable</code> and <code>Literal</code>.  Notwithstanding, <code>Label</code> is displayed as the core type.
Two Label's are regarded to be the same expression if and only if the class and both formats (string and LaTeX), are the same:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">tri</span> <span class="o">==</span> <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;triangle&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\triangle&#39;</span><span class="p">)</span> <span class="c1"># equal b/c class (Label) is the same and</span>
                                              <span class="c1"># the string and LaTex formats are the same</span>
    
<span class="k">assert</span> <span class="n">tri</span> <span class="o">!=</span> <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;tri&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\triangle&#39;</span><span class="p">)</span>      <span class="c1"># not equal when class or either format is different</span>
                                              <span class="c1"># Class for both is Label, but string format different</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's make another label to test out <code>substituted()</code> and <code>relabeled()</code> methods:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sq</span> <span class="o">=</span>  <span class="n">Label</span><span class="p">(</span><span class="n">stringFormat</span><span class="o">=</span><span class="s1">&#39;square&#39;</span><span class="p">,</span> <span class="n">latexFormat</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;\Box&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[7]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="sq">sq:</strong> <a class="ProveItLink" href="__pv_it/8adaa68e2d53f0c6257301971714ca93abaf43930/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPBAMAAAAmOuNHAAAAD1BMVEX///8iIiIQEBAyMjIAAABP
vViSAAAAAXRSTlMAQObYZgAAABpJREFUCNdjYIACYzAwYhAA8xhpRhsKgoAQAMgkAslOqdIiAAAA
AElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Using <em>expression substitution</em>, we can change one <code>Label</code> into another or into any other <code>Expression</code>.  Later we'll see that <em>specialization</em> is more restrictive, only being applicable to <code>Variable</code>s and not any <code>Label</code>, but for <em>expression substitution</em> this is fine.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tri</span><span class="o">.</span><span class="n">substituted</span><span class="p">({</span><span class="n">tri</span><span class="p">:</span><span class="n">sq</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[8]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/8adaa68e2d53f0c6257301971714ca93abaf43930/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPBAMAAAAmOuNHAAAAD1BMVEX///8iIiIQEBAyMjIAAABP
vViSAAAAAXRSTlMAQObYZgAAABpJREFUCNdjYIACYzAwYhAA8xhpRhsKgoAQAMgkAslOqdIiAAAA
AElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Notice that the <code>substituted()</code> method is non-mutating, leaving the tri <code>Label</code> as it was originally defined:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tri</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[9]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/b8bc794ff7aade9592ba459dc1fb9c2587bb1feb0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPBAMAAADwnzkiAAAAMFBMVEX///8QEBC6urqIiIhmZmaY
mJju7u5ERERUVFSqqqrc3NwiIiIyMjJ2dnbMzMwAAADBkaYtAAAAAXRSTlMAQObYZgAAAF5JREFU
CNdjYGBg4LvAAAU8u2CsGc9hrGMcDyAM1gtcByAs7gQGTwjLmIEhG8xg28DAwBsAYoHJDSBWDlQF
A0MTVBcDVwGIxenAwMAOMfUUA8MLiFEaDAyNu8FgfwIA3xQU9d3v5zQAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Variable"><a href="#Variable" />Variable<a class="anchor-link" href="#Variable">&#182;</a></h1><p>A <code>Variable</code> is an interchangeable <a href="#Label">Label</a> with no formal, contextual meaning.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">Variable</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>                                             <span class="c1"># the string and latex formats</span>
                                                              <span class="c1"># are the same by default</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[10]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="x">x:</strong> <a class="ProveItLink" href="__pv_it/530be409e3083890784cf1d7b28c9e67e90af9360/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAJBAMAAAAWSsseAAAAKlBMVEX///9ERETMzMwQEBAiIiKY
mJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAA/vyDhAAAAAXRSTlMAQObYZgAAAENJREFUCNdjYDi9
8sTyBQxsG1hdmR0YuBm4LnAoMLAxcAowgADzAjB1VoEhgYH1wFoGrgSG3gBhhlMMDImrs3cFMAAA
t0YN+iTRa+sAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">omega</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="n">stringFormat</span><span class="o">=</span><span class="s1">&#39;omega&#39;</span><span class="p">,</span> <span class="n">latexFormat</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;\omega&#39;</span><span class="p">)</span> <span class="c1"># different string and latex formats</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[11]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="omega">omega:</strong> <a class="ProveItLink" href="__pv_it/9d7c4e1c5ee4d34a7826567c9ff37cf313ab71e60/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJBAMAAAAbVLtZAAAALVBMVEX///9mZmYyMjJERERUVFS6
urqYmJju7u7c3NyIiIiqqqoQEBDMzMx2dnYAAACcB6guAAAAAXRSTlMAQObYZgAAAExJREFUCNdj
YLjAwMBwegEDZwOQ7r7AwMvAUMDAmcAQw8C+gYHtAFCaywEkCCQWMPQyMNgwnAvgUGdguD1xy07p
BQwMRY+O66kyMAAAM0ARC3HE760AAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Convenient <code>Variable</code>s and other <code>Expression</code>s are accessible from <code>_common_.py</code> modules (generated from <code>_common_.ipynb</code> notebooks).  That is, <code>_common_.py</code> modules hold common expressions.  For example, from <a class="ProveItLink" href="../packages/proveit/_common_.html">proveit.\_common\_</a> we can import a collection of commonly-used variables:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit._common_</span> <span class="k">import</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">alpha</span>
<span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">ExprTuple</span>
<span class="n">ExprTuple</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">alpha</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[12]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/6b365705f69c34226e246c8c9d56c6dd8bfa18cc0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAAAVBAMAAACNsKCFAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAAjpJREFU
OMutlE9o03AUx79pkqaxTVPwKLLevA7Ekwg9eVIWPXgQ1LDDNsFoETZB0VUp4sFtAUEGHlqEIeKl
IqIIYwU9CF5y8VA0s3pRvCw6ehA28eX3fllThwjdesjv0+/L++b33u8PsGu/YrBzj7Px411KMF+W
hzIy2vR4nFb2tIabUhOwBiqzK8MZnQJyflpY84czWgS+DwjjQ3ZbrWCGBmX54k0WnoTPZei+91GM
ivf0+HVeiUkXIzzj4p3ufrk8Ex+6NGSrWKLhW0mNWF6H3RZUmMdDNsRJ55agbDHCJ07fe+bKKNPb
rnnXdKA1MU8f7cFgXfuFnMtFBzgkwKXkY4LeGGUc5HQfD3hq5hxw2PJRrOE3kI+Q4bUzmrCrglaS
6n08SygXYFOyIrcJpeJylgqIYiN7FA0uKFPFmiNovd/IuQTG/MKGxK/JdqFKpjrCqA6MBBiDL7fR
rABlc8tH2YDJdBVWjUlzZZBScYn2HpVGnWhU8Eprx29Tp29zWg/QhfkJK0KHtUdQW0xHASab5j9F
o97EJJ0LRzuQRYOOWb5itATgBXDB/Enf7qk1JWDtWlx3TIWl6dNdTqhCXyn48fJ/ibfR6utVLP6g
RViehgAYXuibCyWYR85PvJfavXC2JMjAubrUZsKO6tFcusiVkmZ83gbFrZjUxtPRFMVHRE/6Bmcb
6P03ScuXzXo6miJ46Wvkf0YZV3X/YWTSNYJ98o+FvwH9GybWtPDGQLRPyMc9UHbhqqXz/Qf8+pZr
BGHSWQAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We used an <a href="#ExprTuple">ExprTuple</a> to conveniently render all of those <code>Variable</code>s as a single <code>Expression</code>.</p>
<p>Expression information for a <code>Variable</code> is similar to that for a <code>Label</code>, but with the different core type and class:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">alpha</span><span class="o">.</span><span class="n">exprInfo</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[13]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><th>&nbsp;</th><th>core type</th><th>sub-expressions</th><th>expression</th></tr>
<tr><td>0</td><td>Variable</td><td></td><td><a class="ProveItLink" href="../packages/proveit/__pv_it/965f7d5cdf9cb513de3a5460206eae877dc8125c0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJBAMAAAAbVLtZAAAALVBMVEX///+qqqrc3NwiIiJmZmZE
RESYmJgQEBDMzMy6urpUVFSIiIh2dnbu7u4AAADXQqzcAAAAAXRSTlMAQObYZgAAAE1JREFUCNdj
YOA9s2sCAxC0T+Ct4E1g4K1mYIjivsDA9YCBwZmHgYEvgIHh+F4GBr0NDAznBID8BCAfqJzLgYFt
HccFBgaf3XtZTzMAAEWkEGDD5xaKAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a></td></tr>
</table>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Just as we saw for the generic <code>Label</code> <code>Expression</code>s, we can use <em>expression substitution</em> to exchange one <code>Variable</code> for another or for any other <code>Expression</code> or <em>expression relabeling</em> to exchange one <code>Variable</code> for another <code>Variable</code>.  Furthermore, we will see in a later tutorial chapter that <code>Variable</code>s have special properties with respect to <em>specialization</em> because they are defined as interchangeable labels.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">alpha</span><span class="o">.</span><span class="n">substituted</span><span class="p">({</span><span class="n">alpha</span><span class="p">:</span><span class="n">sq</span><span class="p">})</span> <span class="c1"># we can substitute a Variable for any other Expression</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[14]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/8adaa68e2d53f0c6257301971714ca93abaf43930/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPBAMAAAAmOuNHAAAAD1BMVEX///8iIiIQEBAyMjIAAABP
vViSAAAAAXRSTlMAQObYZgAAABpJREFUCNdjYIACYzAwYhAA8xhpRhsKgoAQAMgkAslOqdIiAAAA
AElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">alpha</span><span class="o">.</span><span class="n">relabeled</span><span class="p">({</span><span class="n">alpha</span><span class="p">:</span><span class="n">omega</span><span class="p">})</span> <span class="c1"># we can relabel a Variable to another Variable</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[15]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/9d7c4e1c5ee4d34a7826567c9ff37cf313ab71e60/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJBAMAAAAbVLtZAAAALVBMVEX///9mZmYyMjJERERUVFS6
urqYmJju7u7c3NyIiIiqqqoQEBDMzMx2dnYAAACcB6guAAAAAXRSTlMAQObYZgAAAExJREFUCNdj
YLjAwMBwegEDZwOQ7r7AwMvAUMDAmcAQw8C+gYHtAFCaywEkCCQWMPQyMNgwnAvgUGdguD1xy07p
BQwMRY+O66kyMAAAM0ARC3HE760AAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>But we cannot relabel a <code>Variable</code> to a non-Variable, as seen below when we try to relabel the <code>Variable</code> $\alpha$ to the generic <code>Label</code> sq $\Box$ we defined earlier:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">ImproperRelabeling</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">alpha</span><span class="o">.</span><span class="n">relabeled</span><span class="p">({</span><span class="n">alpha</span><span class="p">:</span><span class="n">sq</span><span class="p">})</span> <span class="c1"># we can NOT relabel a Variable to a non-Variable</span>
    <span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Expecting an ImproperRelabeling error; should not make it to this point&quot;</span>
<span class="k">except</span> <span class="n">ImproperRelabeling</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;EXPECTED ERROR:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>EXPECTED ERROR: May only relabel Variable to Variable
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Literal"><a name="#Literal" />Literal<a class="anchor-link" href="#Literal">&#182;</a></h2><p>A <code>Literal</code> is another kind of <a href="#Label">Label</a>.  In contrast to <code>Variable</code>s, <code>Literal</code>s have a formal, contextual meaning.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">Literal</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Below are different scenarios in which a <code>Literal</code> could appropriately be used.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Specific-operators">Specific operators<a class="anchor-link" href="#Specific-operators">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">TIMES</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">(</span><span class="n">stringFormat</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">latexFormat</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;\times&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[18]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="TIMES">TIMES:</strong> <a class="ProveItLink" href="__pv_it/7fa9fd20fee7806a99050bf24ffcbd2251e9b7fe0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKBAMAAACQ3rmwAAAAElBMVEX///8iIiLc3NzMzMwyMjIA
AAASH0o5AAAAAXRSTlMAQObYZgAAACtJREFUCNdjcGZgYFBhYFA0YGASZgBhIAvINQJygFxBAyQK
IghVAtUA0Q4AhEYDuQjrDycAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">FACTORIAL</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">(</span><span class="s1">&#39;!&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[19]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="FACTORIAL">FACTORIAL:</strong> <a class="ProveItLink" href="__pv_it/d6af88116966bca28fcbee5fe103a74f1e8a81d50/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAOBAMAAAAYmLtSAAAALVBMVEX////MzMyIiIiqqqqYmJh2
dnZmZmZUVFQyMjIiIiLc3NxEREQQEBDu7u4AAACiA/ybAAAAAXRSTlMAQObYZgAAADBJREFUCNdj
uLOBYd0DhnsTGPgaGHgKGDgTGLgDGNgdGFgNGJgEGBgvMAABUPbOBgD2TQqw6cTpzgAAAABJRU5E
rkJggg==
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SUMMATION</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">(</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\sum&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[20]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="SUMMATION">SUMMATION:</strong> <a class="ProveItLink" href="__pv_it/5b704e102c6153cce716db994038e7433059b1730/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeBAMAAADN62OsAAAAMFBMVEX///9ERER2dnYyMjJUVFQQ
EBBmZmaYmJi6urrc3Nzu7u7MzMyqqqqIiIgiIiIAAABU1bTfAAAAAXRSTlMAQObYZgAAALRJREFU
GNNjeP8fAf4yMJz/v4EBBLhmlMV/ZWBg+f+AAQo47A8wMLz/AuMyMBkwMOz/XwDnZzMwsP//Ceey
A7H8PwZksPR/AjKX4/8fFGn9rwuQucz/DZC5XPGfUFSf/9+AzGX7H4Ui/R5V9fxXKNyrE1Ac8htF
cv8BFHtjUSSZHVC4wig8JoQtPEBcirDlDIotHAFAFyFs0U9g4AqCcebkA2OA+bMxGNjF//8PDMN8
1DhCBQDFuEvkgeDDagAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We will see in the <a href="#Operation">Operation</a> section that the <em>operator</em> of an <code>Operation</code>-derived class should be stored as a Python class variable called <code>_operator_</code>.  We are using module-level Python variable names just for these examples.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Constant-values">Constant values<a class="anchor-link" href="#Constant-values">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">FIVE</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">(</span><span class="s1">&#39;5&#39;</span><span class="p">)</span> <span class="c1"># Literal constants are also ALL-CAPS</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[21]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="FIVE">FIVE:</strong> <a class="ProveItLink" href="__pv_it/084027c5e7faf3e99fe505f569d22a93a32e5b730/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAOBAMAAAAPuiubAAAAMFBMVEX///8iIiJERES6urqIiIjM
zMxUVFRmZmYQEBCqqqp2dnbc3Nzu7u6YmJgyMjIAAADYGhJvAAAAAXRSTlMAQObYZgAAAE1JREFU
CNdj4LvDvZKBgeP//wUMDHxlSxkYGNgYGBCki5sBAwPTAZ7PYG4GmFwfwKAIJA0YGhkY6jcwFDAw
vGNg2M7A2c3AwFqetoEBAKS8EE1WXEJLAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">TRUE</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">(</span><span class="s1">&#39;true&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\top&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[22]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="TRUE">TRUE:</strong> <a class="ProveItLink" href="__pv_it/567fef274ea4a346669c1cb3f9cc1731c13accd50/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOBAMAAADtZjDiAAAAFVBMVEX///92dnbMzMxEREQiIiJm
ZmYAAABAT6GXAAAAAXRSTlMAQObYZgAAABhJREFUCNdjCHEBAWcGIFBlgABa0YpADAAxegPJJk4d
XAAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">FALSE</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">(</span><span class="s1">&#39;false&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\bot&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[23]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="FALSE">FALSE:</strong> <a class="ProveItLink" href="__pv_it/ad3fe9d0b017afe72545320c02b720fcc151755f0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOBAMAAADtZjDiAAAAG1BMVEX///9EREQQEBAiIiJmZmbM
zMyIiIjc3NwAAACryk5kAAAAAXRSTlMAQObYZgAAABlJREFUCNdjYGBgKGOAgBBa0s7GxkbGxoYA
FMUF2aBfHgoAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Such constants will typically be defined as <strong>common expressions</strong> in the appropriate <strong>context</strong>, to be discussed in a later tutorial.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Contextual-&quot;variables&quot;">Contextual "variables"<a class="anchor-link" href="#Contextual-&quot;variables&quot;">&#182;</a></h3><p>This is appropriate when variables are given a specific meaning within the context of a problem.  For example, consider a math "story problem" where Andrea has $a$ apples and Bill has $b$ bananas.  These are variables in a sense, but here they have contextual meaning so they should be <code>Literal</code>s.  However, suppose one wants to prove a general theorem for any number of Andrea's apples and Bill's bananas.  One may start by using the $a$ and $b$ <code>Literal</code>s for convenience for some contextual "lemmas" (as an aside, though, <strong>Prove-It</strong> does not distinguish between lemmas and theorems), but then demote them to <code>Variable</code>s in order to make a statement of the form $\forall_{a, b} P(a, b)$ (<code>Literal</code>s may not be quantified over).  This is done by using a process called axiom elimination that will be discussed later.  For now, we just note that "variables" with contextual meaning need to be <code>Literal</code>s.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">aLit</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[24]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="aLit">aLit:</strong> <a class="ProveItLink" href="__pv_it/2bb97c217fcb1fb3c3ee70ce478b8849ff22d3950/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAJBAMAAAAWSsseAAAAMFBMVEX///8yMjKqqqrMzMzu7u4i
IiJmZmaYmJhEREQQEBC6urp2dnaIiIhUVFTc3NwAAAD87Fq/AAAAAXRSTlMAQObYZgAAAEhJREFU
CNdjYOC7s2seAwPDygccHxgY+L4zsDUwMPB+YGA9wMDA38Dgb8DA8P4Agz6DA4O/AsNFJgMGxgKm
MG6gyjunLE4xAAAZTBA5TB6DCwAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bLit</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[25]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="bLit">bLit:</strong> <a class="ProveItLink" href="__pv_it/1ff8d729167878a0309a8d0ba2bd23282d7fa6770/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAOBAMAAAAPuiubAAAALVBMVEX///9mZmbMzMxERESYmJiI
iIh2dna6urqqqqoyMjIiIiIQEBBUVFTu7u4AAAD9S1JeAAAAAXRSTlMAQObYZgAAAE1JREFUCNdj
4D29gAEIOA+ASL4GEFl3AURmgQiGOaFHGBh4HzPwKTBwvGXgTmBgnMDAJ8DAJcBQ5wBSLncBJLWN
gYGngRFoBO9REQYGAGrcDtUkVqASAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">a</span> <span class="o">!=</span> <span class="n">aLit</span> <span class="c1"># different because one is a Variable and one is a Literal</span>
<span class="k">assert</span> <span class="n">a</span> <span class="o">==</span> <span class="n">aLit</span><span class="o">.</span><span class="n">asVariable</span><span class="p">()</span> <span class="c1"># same after converting the Literal to a Variable</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Literal-substitution">Literal substitution<a class="anchor-link" href="#Literal-substitution">&#182;</a></h3><p>It is possible to perform <em>expression substitution</em> on a <code>Literal</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">aLit</span><span class="o">.</span><span class="n">substituted</span><span class="p">({</span><span class="n">aLit</span><span class="p">:</span><span class="n">bLit</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[27]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/1ff8d729167878a0309a8d0ba2bd23282d7fa6770/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAOBAMAAAAPuiubAAAALVBMVEX///9mZmbMzMxERESYmJiI
iIh2dna6urqqqqoyMjIiIiIQEBBUVFTu7u4AAAD9S1JeAAAAAXRSTlMAQObYZgAAAE1JREFUCNdj
4D29gAEIOA+ASL4GEFl3AURmgQiGOaFHGBh4HzPwKTBwvGXgTmBgnMDAJ8DAJcBQ5wBSLncBJLWN
gYGngRFoBO9REQYGAGrcDtUkVqASAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">aLit</span><span class="o">.</span><span class="n">substituted</span><span class="p">({</span><span class="n">aLit</span><span class="p">:</span><span class="n">omega</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[28]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/9d7c4e1c5ee4d34a7826567c9ff37cf313ab71e60/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJBAMAAAAbVLtZAAAALVBMVEX///9mZmYyMjJERERUVFS6
urqYmJju7u7c3NyIiIiqqqoQEBDMzMx2dnYAAACcB6guAAAAAXRSTlMAQObYZgAAAExJREFUCNdj
YLjAwMBwegEDZwOQ7r7AwMvAUMDAmcAQw8C+gYHtAFCaywEkCCQWMPQyMNgwnAvgUGdguD1xy07p
BQwMRY+O66kyMAAAM0ARC3HE760AAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As noted earlier, the <code>substituted()</code> method is non-mutating, leaving the aLit <code>Literal</code> as it was originally defined:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">aLit</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[29]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/2bb97c217fcb1fb3c3ee70ce478b8849ff22d3950/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAJBAMAAAAWSsseAAAAMFBMVEX///8yMjKqqqrMzMzu7u4i
IiJmZmaYmJhEREQQEBC6urp2dnaIiIhUVFTc3NwAAAD87Fq/AAAAAXRSTlMAQObYZgAAAEhJREFU
CNdjYOC7s2seAwPDygccHxgY+L4zsDUwMPB+YGA9wMDA38Dgb8DA8P4Agz6DA4O/AsNFJgMGxgKm
MG6gyjunLE4xAAAZTBA5TB6DCwAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We cannot, however, <em>relabel</em> a <code>Literal</code> since a <code>Literal</code> is not an interchangeable label.  Furthermore, we will see in a later chapter that <em>specialization</em> is not allowed because you cannot quantify over a <code>Literal</code> like you can a <code>Variable</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[30]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">aLit</span><span class="o">.</span><span class="n">relabeled</span><span class="p">({</span><span class="n">aLit</span><span class="p">:</span><span class="n">omega</span><span class="p">})</span> <span class="c1"># we cannot relabel Literals</span>
    <span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Expecting a TypeError; should not make it to this point&quot;</span>
<span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;EXPECTED ERROR: &quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>EXPECTED ERROR:  relabelMap keys must be Variables
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Literal-contexts">Literal contexts<a class="anchor-link" href="#Literal-contexts">&#182;</a></h3><p>A <code>Literal</code> is distinguished not only by its formatting but also by its <strong>context</strong>.  Axioms and theorems of <strong>Prove-It</strong> are organized via <strong>contexts</strong> which we will discuss later in more detail.  Each <code>Literal</code> belongs to a <strong>context</strong> which is typically the one corresponding to the package (directory) in which it is defined.  This is particularly important for <em>contextual variable</em> types of <code>Literal</code>s that are very <em>context</em>-specific.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[31]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">proveit.logic</span> <span class="k">as</span> <span class="nn">logic</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">logic</span><span class="o">.</span><span class="n">TRUE</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[32]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="../packages/proveit/logic/boolean/__pv_it/68a87cc3370287d726c7086ace789e680e4461c30/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOBAMAAADtZjDiAAAAFVBMVEX///92dnbMzMxEREQiIiJm
ZmYAAABAT6GXAAAAAXRSTlMAQObYZgAAABhJREFUCNdjCHEBAWcGIFBlgABa0YpADAAxegPJJk4d
XAAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><em>If the above output is not the $\top$ symbol when you execute this, you probably need to <a class="ProveItLink" href="tutorial00_introduction.html#build">build or download the Prove-It database</a>.</em></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[33]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># When the context is different, they are not the same.</span>
<span class="n">TRUE</span> <span class="o">==</span> <span class="n">logic</span><span class="o">.</span><span class="n">TRUE</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[33]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>False</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The detailed expression information reveals the differences:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">TRUE</span><span class="o">.</span><span class="n">exprInfo</span><span class="p">(</span><span class="n">details</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[34]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><th>&nbsp;</th><th>core type</th><th>sub-expressions</th><th>expression</th></tr>
<tr><td>0</td><td>Literal</td><td></td><td><a class="ProveItLink" href="__pv_it/567fef274ea4a346669c1cb3f9cc1731c13accd50/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOBAMAAADtZjDiAAAAFVBMVEX///92dnbMzMxEREQiIiJm
ZmYAAABAT6GXAAAAAXRSTlMAQObYZgAAABhJREFUCNdjCHEBAWcGIFBlgABa0YpADAAxegPJJk4d
XAAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td colspan=4 style="text-align:left"><strong>context:</strong> tutorial</td></tr>
</table>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">logic</span><span class="o">.</span><span class="n">TRUE</span><span class="o">.</span><span class="n">exprInfo</span><span class="p">(</span><span class="n">details</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[35]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><th>&nbsp;</th><th>core type</th><th>sub-expressions</th><th>expression</th></tr>
<tr><td>0</td><td>Literal</td><td></td><td><a class="ProveItLink" href="../packages/proveit/logic/boolean/__pv_it/68a87cc3370287d726c7086ace789e680e4461c30/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOBAMAAADtZjDiAAAAFVBMVEX///92dnbMzMxEREQiIiJm
ZmYAAABAT6GXAAAAAXRSTlMAQObYZgAAABhJREFUCNdjCHEBAWcGIFBlgABa0YpADAAxegPJJk4d
XAAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td colspan=4 style="text-align:left"><strong>class:</strong> proveit.logic.boolean.booleans.TrueLiteral</td></tr>
<tr><td colspan=4 style="text-align:left"><strong>context:</strong> proveit.logic.boolean</td></tr>
</table>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Expressions</strong> are also distinguished by their class (derived from the <em>core type</em>).  In the above example, <code>logic.TRUE</code> is an object of the <code>proveit.logic.boolean.booleans.TrueLiteral</code> class.  <code>logic.TRUE</code> and <code>logic.FALSE</code> have an <code>evalEquality(..)</code> method defined in their respective classes which is a convenient method for deriving any of the following: $(\top = \top) = \top$, $(\bot = \bot) = \top$, $(\top = \bot) = \bot$, or $(\bot = \top) = \bot$ (these are proven theorems within <code>proveit.logic</code>). For example:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">logic</span><span class="o">.</span><span class="n">TRUE</span><span class="o">.</span><span class="n">evalEquality</span><span class="p">(</span><span class="n">logic</span><span class="o">.</span><span class="n">FALSE</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[36]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<span style="font-size:20px;"> <a class="ProveItLink" href="__pv_it/397c38c4945bbeede958c7d5b2ce0d53dccf988b0/proof.html" style="text-decoration: none">&#x22A2;&nbsp;</a><a class="ProveItLink" href="__pv_it/1ae518bffd72d1b2d31db057b6c402ccdd1b830b0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHUAAAAVBAMAAACK3rzVAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAALZJREFU
OMtjYKAE8F3AL8/6ALfcaQZ2JTAwwJBiBBtbg0UTRIZhJYjgKcBmLESUC6cM7wVCelkTcMlwTCCk
l7MBl8wrBkJ6GUxwyZQR1puOS2Ypil72VWCwAUWvFy6ZPsL2vsAl84+w3vO00NuC6l+UJIbsZmwy
poTtjcIlk05BHD2CsDHTHciRTWBHrsMlwyFAKJNiS5PQ7JlASC8b7gy+kpDeWbilpAnp3YhbipFA
mcN7AJcMABivOrC0WkZ0AAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a></span>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>That is a sneak preview of a known truth (<strong>KnownTruth</strong> object) that uses the turnstile notation, $\boldsymbol{\vdash}$, to indicate that the expression is a proven statement.  There will be more on this in later tutorial chapters.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Lambda"><a name="Lambda" />Lambda<a class="anchor-link" href="#Lambda">&#182;</a></h1><p>This type of <strong>expression</strong> represents a mathematical mapping or function.  It contains <em>parameter(s)</em> (one or more <code>Variable</code>s and possibly <code>Iteration</code>s of <code>Indexed</code> <code>Variable</code>s that will be discussed in the <a href="tutorial10_advanced_expr.ipynb#Iteration">Iteration</a> section of the <a href="tutorial10_advanced_expr.ipynb">advanced expressions</a> chapter), a <em>body</em> (any <code>Expression</code> that the parameters are to be mapped into), and optional <em>conditions</em> (any <code>Expression</code>s).  The mapping is only defined when the <em>conditions</em> are satisfied (derivable as <strong>known truths</strong>).  Below is an example with a single <em>parameter</em> and no <em>conditions</em>, mapping any input to the $5$ <strong>Literal</strong>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">Lambda</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># maps any value to 5</span>
<span class="n">mapTo5</span> <span class="o">=</span> <span class="n">Lambda</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">FIVE</span><span class="p">)</span> 
<span class="n">mapTo5</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[38]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/ee0040d5dfe477769750d3eee2534a9fec12dcae0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAAOCAMAAAC8cHQRAAAANlBMVEX///+6uroUFBQNDQ0yMjJE
RETMzMwQEBAiIiKYmJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAACltDI1AAAAAXRSTlMAQObYZgAA
ALRJREFUKM+dkdkSwyAIRWkbN1TA///ZYmwbzExmYu+ToIflCrCmLSEIF1hVaCpexmDLlf06BhX+
k+GEqUqhTL9ZppdlMqESUX30E+qWKSYI8XsXTy3QBE4DbB3s5lDTuv6CwyrnYUNP94Oz6dczTgp7
fSNunx6BbDqeyx+Yi4MbGdl5vOCyGXOYkJumkuzrAV1w3s6Sh+HqeGkJnO4pxzXNtthAOliCtkNH
jMyU7v27z7l2f9/yLgZjaLJwAQAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Let&#39;s look at the Expression info</span>
<span class="n">mapTo5</span><span class="o">.</span><span class="n">exprInfo</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[39]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><th>&nbsp;</th><th>core type</th><th>sub-expressions</th><th>expression</th></tr>
<tr><td>0</td><td>Lambda</td><td>parameter:&nbsp;1<br>body:&nbsp;2<br></td><td><a class="ProveItLink" href="__pv_it/ee0040d5dfe477769750d3eee2534a9fec12dcae0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAAOCAMAAAC8cHQRAAAANlBMVEX///+6uroUFBQNDQ0yMjJE
RETMzMwQEBAiIiKYmJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAACltDI1AAAAAXRSTlMAQObYZgAA
ALRJREFUKM+dkdkSwyAIRWkbN1TA///ZYmwbzExmYu+ToIflCrCmLSEIF1hVaCpexmDLlf06BhX+
k+GEqUqhTL9ZppdlMqESUX30E+qWKSYI8XsXTy3QBE4DbB3s5lDTuv6CwyrnYUNP94Oz6dczTgp7
fSNunx6BbDqeyx+Yi4MbGdl5vOCyGXOYkJumkuzrAV1w3s6Sh+HqeGkJnO4pxzXNtthAOliCtkNH
jMyU7v27z7l2f9/yLgZjaLJwAQAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>1</td><td>Variable</td><td></td><td><a class="ProveItLink" href="../packages/proveit/__pv_it/530be409e3083890784cf1d7b28c9e67e90af9360/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAJBAMAAAAWSsseAAAAKlBMVEX///9ERETMzMwQEBAiIiKY
mJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAA/vyDhAAAAAXRSTlMAQObYZgAAAENJREFUCNdjYDi9
8sTyBQxsG1hdmR0YuBm4LnAoMLAxcAowgADzAjB1VoEhgYH1wFoGrgSG3gBhhlMMDImrs3cFMAAA
t0YN+iTRa+sAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>2</td><td>Literal</td><td></td><td><a class="ProveItLink" href="__pv_it/084027c5e7faf3e99fe505f569d22a93a32e5b730/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAOBAMAAAAPuiubAAAAMFBMVEX///8iIiJERES6urqIiIjM
zMxUVFRmZmYQEBCqqqp2dnbc3Nzu7u6YmJgyMjIAAADYGhJvAAAAAXRSTlMAQObYZgAAAE1JREFU
CNdj4LvDvZKBgeP//wUMDHxlSxkYGNgYGBCki5sBAwPTAZ7PYG4GmFwfwKAIJA0YGhkY6jcwFDAw
vGNg2M7A2c3AwFqetoEBAKS8EE1WXEJLAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a></td></tr>
</table>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here is an example with multiple <em>parameters</em> and <em>conditions</em> that are represented by <code>ExprTuple</code>s.  This maps a pair of real numbers to the first element (invoking the <code>InSet</code> <a href="#Operation">Operation</a>):</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Can have multiple arguments</span>
<span class="kn">from</span> <span class="nn">proveit.logic</span> <span class="k">import</span> <span class="n">InSet</span>
<span class="kn">from</span> <span class="nn">proveit.number</span> <span class="k">import</span> <span class="n">Reals</span>
<span class="n">lambdaExpr</span> <span class="o">=</span> <span class="n">Lambda</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">omega</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">conditions</span><span class="o">=</span><span class="p">[</span><span class="n">InSet</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Reals</span><span class="p">),</span> <span class="n">InSet</span><span class="p">(</span><span class="n">omega</span><span class="p">,</span> <span class="n">Reals</span><span class="p">)])</span>
<span class="n">lambdaExpr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[40]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/10b5a03a8bdf7be69daf0a7e71153b100c649d780/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOQAAAAVCAMAAABhR7IDAAAANlBMVEX///8UFBQNDQ3c3NwiIiJE
RESqqqqYmJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAABQuW4xAAAAAXRSTlMAQObYZgAA
AjJJREFUWMPFWEli4yAQJGET0Gz//+wAsmRWu2OPZR2cQ6uKKnoBhZBLHkHJl5/gMW/J8MYSW/iy
R2dx7yl3nUkJkfMIoMG/stwIB4OEwpWZ5ISmzXdcwEuV3sE9eq/kdq1Jlf8Yyl80WcM1NpHE6I+Z
NB5YemBQuTmCMPkMHv5QhFx8yKQDaeapQJl8Cle3GqSbt1R41RTvUZ9OF3ubWvSnaNxPqGqTY5hy
s6o325drJwkHB7knPIElk0Sz6k1/9DzVhVvcrbGW01bLzKgqk5Mwp6umCky2g6eXhIPrcG6Qj8mH
63etyPdlK4JemTSWNqieqjI5hg2fTw6d26zrkF4SDh735TPOdm8Hd04bWRS5eMZ+f1jz6HjamFHV
mRzCQR8s3eQIinSVOEjCwe/iiPaTXRP23gmVyS6TxLaTZaB6FJ7eRkq9qdDFBkk4eNW/0R2lcBNe
uESZFeRxuaq2LQaq1mQXNmx50IE5q3IuCQfnO4mkpVGIN/flucvJS/Lo7VIkV4PH1ZlpqEaTk7CV
K5UpE9aRB5Jw8P1YEFESnvJEs1oTdwub9krb/HPLdnWEtOVYN05DNZqchQ0LqzMgZS0Pz6UkHDyw
fUL5zWzbnlyjY6k+AxFc/jk4AHM5a6hGk9Mwhe72v9+wc96AQxRrSTg40ZNTJtCLr3VpmEA7HnGS
sPDZtVvOlfrPmXz+dfAefPKpNWU0l35q/WeTdDhn5hmz9Ism/bubRFEM3r2j8av//vgHtuMchv5A
yF4AAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Expression info shows how the Lambda is broken down into arguments and the expression as sub-expression.</span>
<span class="n">lambdaExpr</span><span class="o">.</span><span class="n">exprInfo</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[41]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><th>&nbsp;</th><th>core type</th><th>sub-expressions</th><th>expression</th></tr>
<tr><td>0</td><td>Lambda</td><td>parameters:&nbsp;1<br>body:&nbsp;8<br>conditions:&nbsp;2<br></td><td><a class="ProveItLink" href="__pv_it/10b5a03a8bdf7be69daf0a7e71153b100c649d780/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOQAAAAVCAMAAABhR7IDAAAANlBMVEX///8UFBQNDQ3c3NwiIiJE
RESqqqqYmJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAABQuW4xAAAAAXRSTlMAQObYZgAA
AjJJREFUWMPFWEli4yAQJGET0Gz//+wAsmRWu2OPZR2cQ6uKKnoBhZBLHkHJl5/gMW/J8MYSW/iy
R2dx7yl3nUkJkfMIoMG/stwIB4OEwpWZ5ISmzXdcwEuV3sE9eq/kdq1Jlf8Yyl80WcM1NpHE6I+Z
NB5YemBQuTmCMPkMHv5QhFx8yKQDaeapQJl8Cle3GqSbt1R41RTvUZ9OF3ubWvSnaNxPqGqTY5hy
s6o325drJwkHB7knPIElk0Sz6k1/9DzVhVvcrbGW01bLzKgqk5Mwp6umCky2g6eXhIPrcG6Qj8mH
63etyPdlK4JemTSWNqieqjI5hg2fTw6d26zrkF4SDh735TPOdm8Hd04bWRS5eMZ+f1jz6HjamFHV
mRzCQR8s3eQIinSVOEjCwe/iiPaTXRP23gmVyS6TxLaTZaB6FJ7eRkq9qdDFBkk4eNW/0R2lcBNe
uESZFeRxuaq2LQaq1mQXNmx50IE5q3IuCQfnO4mkpVGIN/flucvJS/Lo7VIkV4PH1ZlpqEaTk7CV
K5UpE9aRB5Jw8P1YEFESnvJEs1oTdwub9krb/HPLdnWEtOVYN05DNZqchQ0LqzMgZS0Pz6UkHDyw
fUL5zWzbnlyjY6k+AxFc/jk4AHM5a6hGk9Mwhe72v9+wc96AQxRrSTg40ZNTJtCLr3VpmEA7HnGS
sPDZtVvOlfrPmXz+dfAefPKpNWU0l35q/WeTdDhn5hmz9Ism/bubRFEM3r2j8av//vgHtuMchv5A
yF4AAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>1</td><td>ExprTuple</td><td>8, 9</td><td><a class="ProveItLink" href="__pv_it/23d210a3806a1b340308a9989b39892823a769160/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAVBAMAAAAk6KpUAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAAQtJREFU
KM9jYMAJ+C5gisWBiNNYFLMfABIrsRmzgIGB9wI2iTAGBo4J2CRmMDC8wuoiZgeGMiAldlvkOsRE
NiDmaQHSBQxLGRg4E1hVORTAEheBmLGNgYFlAUMfSBnvB5YDYIkEBk4GhqtAzzUw/APqYOA2gHr2
AMjaGKBxH0ASQKdB3Qy0whukDSTRAhKQP8AAdjU3A0MKA2MC2ChTBgZWgfsMvBNAUswHeP4xSAEZ
rAsY0hkY/AMsGGQZOD8Bjeqt2HEdZAbQuY8YGCZfm5YbwMDZL8DAuX7NrF8PgBJcDxg4BODhL4AS
JKwJMA4rUpDkIgc7kgQnMNgZpGE8pPDnBpnKiCVC7jAwAAD7Jjg6jISTPwAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>2</td><td>ExprTuple</td><td>3, 4</td><td><a class="ProveItLink" href="__pv_it/1a1a88d506faa63190734b6f3b5ec348407c183c0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAAVBAMAAACd/CwcAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAAgtJREFU
OMtjYKAY8F0gX28ciDiNRYJ1vfGvFWtxa4z6bL+qC2gx+wEgZyU2FcyMG3hMFuI2wUCa4bCXAAPD
AgYG3gvYDShgsBTGY4A4A/NEAwaGMAYGjgnIEnMXKWnBDMhhxtDHeUtJaQHUALYDQANmMDC8QlbA
s3QCwgVYDDgViXAB2ABmB4YyIFfstsh1sE+EJyB5YSfUC2wgk1tALEZLJC9wg7zAVsCwFOiwBFZV
DgWQuCFSGPCpQgPxIkhrG1hUAMmAR1FAHssChj6QFbwfWEARwmmAMKBJaQmUncDAycBwFcSajAhE
CSUtB1AiamD4B9THwA3RydekpAQLxLoCqHv5DoCCKgbEfAGUhgXic2aQd3k+gAwARgUkLnk2IHmh
7jQ8CLxBzkBJcwbi7G82QAwAh478AQaQeZwKSAZwzQ0AM7kZGFIYGMEGTEJOByuvQrxgCky4AvcZ
eMHhvxXJAJ4NexhAxjIf4PnHIAWW5g5AMuA0NzDYWBcwpDMw+AdYMMiCxSc9QIrGFGYBzk9AL/RW
7LjeAklHekgGsDkYgqPxETBwr03LhZjNuPwALDN9PsBl9YWzX4CBc/2aWb+gBkvVwDOTDcPi9Q4M
XA8YOASQkxrLLkgswPO6AGpS9F4EiQUYAMYPawK+DM9KoEDIxZWdiTSAE+QcaXwqCJRW3CAfMlJQ
pN1hYAAA40l6PKEWz5YAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>3</td><td>Operation</td><td>operator:&nbsp;6<br>operands:&nbsp;5<br></td><td><a class="ProveItLink" href="__pv_it/eb0bb41bc490216efda167f494078b4b6d7870100/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAPBAMAAABZ6/G2AAAAMFBMVEX///+6uroyMjJERETMzMwQ
EBAiIiKYmJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAAWgogoAAAAAXRSTlMAQObYZgAAAL9JREFU
GNNjYMAA7PrGn1R1GLACZr4NLFZ6OKQmMFg8RhbhOJSWpgCTusKMLOVUgaQLLPX29KuTB4A0nwWy
gTuABnJcYE9nTQAJPECSYkwHOoOXgecDlwNQoBnJGWFpWiDLGbgNwAKiaWlwZ0ycADGd9QCY8kZ2
/EQI770DQwOQakOWYuopAAbLg/MMPCAp7gIkKZYNWxgY1heYMrwB+zgR2fG3gA5uPtt7B6L+0RR4
8H52YDL6hRwcq9UgLoQCAPaLM5068DIIAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>4</td><td>Operation</td><td>operator:&nbsp;6<br>operands:&nbsp;7<br></td><td><a class="ProveItLink" href="__pv_it/e1d7792fcf55928b0fb378c0e7132e25e4ff27af0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAAPBAMAAABdHiGLAAAAMFBMVEX///8iIiJmZmYyMjJERERU
VFS6urqYmJju7u7c3NyIiIiqqqoQEBDMzMx2dnYAAACMQNsoAAAAAXRSTlMAQObYZgAAAMpJREFU
GNNjYMAE7PYun22sGLADFs4AXm9LXHIKDB5TUIQ4FgsKGsDk3rKgyF2uQNIHlnsAxHc2AAlOD2Qz
I4Bmck0AcuaAFLBMQJJjEwe6hY+BoYGBqwAo0oLkloOC1kA6l4HjAAP7BSArR1AQ7hY1BQ+wddwB
IM0MDFeR/aAG4gElNjDMA4k0IssxdwGt8WW4n8BpARJhLUCS4w2IZWB4s+joKZ0NYK+LIfvhNdDZ
zZ9v2JtBhCbrwsP6ywVm598oAbPVEOJOKAAAoactYTiUOqIAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>5</td><td>ExprTuple</td><td>8, 10</td><td><a class="ProveItLink" href="__pv_it/a1cedba931058bda2f9ec2b9f707d89f469f1fb80/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAVBAMAAADyTXAxAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAARBJREFU
KM9jYMAJ+C5girE+ABKnkQXWG/9asRbIqAHilchKmRk38JgsZGDgYmDgvYAqUcBgKQzUmsDAMQFd
IoeZgYGzgeEVAzYJBhOGMiApdlvk+gW4xE6gUQzpDEuB+hJYVTkUYBJ8qkDLGbwY+hgY2Bh4P7Ac
gEo0KS0BMV4w/APqYOA2gNtRV2AJYpwHSTAwcFxAWF53GiLRAqLkDzBMgElwzQ0AG2UK9I3AfQbe
CWApoATPhj1ARhTQXQz+ARYMsgycn6DOTWEWADn3EQPD5GvTcgMYOPsFQIH4+QCX1RcGhnUMHALw
8BdAhAAwSIDBBQtzpKBhu4AU7MgSs4BYGsZBDv+NQMyIJWp5DzAAABMaPkMdIdlaAAAAAElFTkSu
QmCC
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>6</td><td>Literal</td><td></td><td><a class="ProveItLink" href="../packages/proveit/logic/set_theory/membership/__pv_it/088cbc857536a28d4119ad9639a84270ccb0545d0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMBAMAAACkW0HUAAAALVBMVEX///+qqqpmZmZUVFQQEBC6
urpERETc3NyYmJjMzMwiIiIyMjKIiIju7u4AAACYsrA9AAAAAXRSTlMAQObYZgAAADxJREFUCNdj
YOA9vWrVBgaG2b0MQMCeCyIZ2ArA1DUwyRCyahVIyWQI7xaEYm4AU7xLIdxqTQgtvGvVBgCkcQ7e
geM/tQAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>7</td><td>ExprTuple</td><td>9, 10</td><td><a class="ProveItLink" href="__pv_it/c385210077734df8740547ef697a763fd618a8130/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAVBAMAAAD2uKAMAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAARdJREFU
KM9jYMAN+C5gEWR9ACROo4isN/61Yi2QUQPEK1EUMzNu4DFZyMDAxcDAewFNpoDBUhioOYGBYwKG
TA4zAwNnA8MrBqwyDCYMZUAyAYhPOMBldgJNY0hnWAq0SgDIkkiAyfCpAl3A4MXQx8DAxsAwgYE3
ACrTpLQExHjB8I+B4Q3IPtYDUJm6AksQ4zxIJoGBZQNII9S0utMQmRYGBqCwA4MYXIZrbgDYNFMG
BhuG8w8YVzJwQmV4NuwBMqKArmPIuN7dW+HAMF8B6uoUZgGQqx8xMMz6dXL9OgaGGR/BIfr5AJfV
FwaGdQwcAnD/P0QKC5BrE+C8ACQZtgvIsYAsMwuIpWEcXuSQ3QjEjNhim/cAAwDU2UKrSAiI0gAA
AABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>8</td><td>Variable</td><td></td><td><a class="ProveItLink" href="../packages/proveit/__pv_it/530be409e3083890784cf1d7b28c9e67e90af9360/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAJBAMAAAAWSsseAAAAKlBMVEX///9ERETMzMwQEBAiIiKY
mJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAA/vyDhAAAAAXRSTlMAQObYZgAAAENJREFUCNdjYDi9
8sTyBQxsG1hdmR0YuBm4LnAoMLAxcAowgADzAjB1VoEhgYH1wFoGrgSG3gBhhlMMDImrs3cFMAAA
t0YN+iTRa+sAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>9</td><td>Variable</td><td></td><td><a class="ProveItLink" href="__pv_it/9d7c4e1c5ee4d34a7826567c9ff37cf313ab71e60/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJBAMAAAAbVLtZAAAALVBMVEX///9mZmYyMjJERERUVFS6
urqYmJju7u7c3NyIiIiqqqoQEBDMzMx2dnYAAACcB6guAAAAAXRSTlMAQObYZgAAAExJREFUCNdj
YLjAwMBwegEDZwOQ7r7AwMvAUMDAmcAQw8C+gYHtAFCaywEkCCQWMPQyMNgwnAvgUGdguD1xy07p
BQwMRY+O66kyMAAAM0ARC3HE760AAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>10</td><td>Literal</td><td></td><td><a class="ProveItLink" href="../packages/proveit/number/sets/real/__pv_it/9e7645ee1117062e179dd6264898f99ed95b157c0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOBAMAAAACpFvcAAAAMFBMVEX///8iIiK6urp2dnbu7u5m
ZmaqqqrMzMxUVFTc3NyIiIgQEBBEREQyMjKYmJgAAAA9nvXMAAAAAXRSTlMAQObYZgAAAFJJREFU
CNdjePvn/N29CxiA4MAMhprcCSDGVAYezwMQBnMBOoMDJqX4Fqx4tqBsAlj7VFUeBwiDVb0BwmC4
sg7KqOAogJqTcJKBAWjpcYY79xMAyqEnfsw4ApEAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
</table>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Lambda-substitution/relabeling">Lambda substitution/relabeling<a class="anchor-link" href="#Lambda-substitution/relabeling">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A very important property of a <code>Lambda</code> is that it defines a new "scope" for its parameters.  The parameter <strong>Variable</strong>s may be <em>relabeled</em>, but they will not be substituted.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lambdaExpr</span><span class="o">.</span><span class="n">relabeled</span><span class="p">({</span><span class="n">omega</span><span class="p">:</span><span class="n">y</span><span class="p">})</span>  <span class="c1"># the omega is relabeled with y</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[42]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/3dd282ddd0235516e5e0f2242f0c4ad7096e94880/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN8AAAAVCAMAAADxVMvMAAAANlBMVEX///8UFBQNDQ3c3NwiIiJE
RESqqqqYmJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAABQuW4xAAAAAXRSTlMAQObYZgAA
AklJREFUWMPFWNmS4jAM9K7v2/7/n504DkHyQUxRBL9MTUQr3bosIOSGIyj55Unx+jMyffAClX4p
L/iVT+lwnz7pMufZOePi2+/qsc4uAd2d+eOEblEPXLj3S7vBxsUYSXWvPl3+WMrJh1izlj5izdf0
2ejYdlzHUQVype8Km5brjosv6QtO2nEOrvVdYvVRdlRFT0XUqFqt2s00Fx9KT3pRIOEDR1Bfb6bc
zmrMN/WJ+KxhnTyQW4cxSQxDgScplxbNu4ynKoY9egsp9I6AvoGZ01kPJSbxfEF81rAmHcgKE/Aa
CILowoPvQUxmps96Cij0joC+3mz5eEaY0lW4JTCfNWyu7y4Z8O2nt4em1FHeiymcUSP//zF0TE4A
0zmC+evMyTy8NDMiadJUH+azhn0yq9hmsyqVHnJo9DX5Ix4PkNaRemUerhd7jenU2SCfNaw5S4Du
MBwxXeISDXldnxp3QecI62vMlk3vMGejJFM+a1hePUhauzZaRM3tN6U/Np+JvgDzgRz1+gZmL2cc
txT4QCAhyGcNW6e+yJLwLSy0ULX55K83VylXJ+B+iG1bgAICjnp9I7NlaTbjldgn5JMQ5LOGTawO
oqisUjWl1mR6DqgY9fGfW9mykKNe39BMXbO81x2Zbw8dd1kAQpDPGpaYwRWS4DPFvr2fEeEdnoGv
CCn2Fna0Nz/C61nRVSeQit/Td73c93yWz+D70UMf27Tzqt/e+v1oQgjwWT+0u0TOTImt2g9unv5Q
X+z5vCNwofJi+ITe736f+AMg1R06o+AstgAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[43]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lambdaExpr</span><span class="o">.</span><span class="n">substituted</span><span class="p">({</span><span class="n">x</span><span class="p">:</span><span class="n">aLit</span><span class="p">})</span> <span class="c1"># the attempted substitution is ignored</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[43]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/10b5a03a8bdf7be69daf0a7e71153b100c649d780/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOQAAAAVCAMAAABhR7IDAAAANlBMVEX///8UFBQNDQ3c3NwiIiJE
RESqqqqYmJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAABQuW4xAAAAAXRSTlMAQObYZgAA
AjJJREFUWMPFWEli4yAQJGET0Gz//+wAsmRWu2OPZR2cQ6uKKnoBhZBLHkHJl5/gMW/J8MYSW/iy
R2dx7yl3nUkJkfMIoMG/stwIB4OEwpWZ5ISmzXdcwEuV3sE9eq/kdq1Jlf8Yyl80WcM1NpHE6I+Z
NB5YemBQuTmCMPkMHv5QhFx8yKQDaeapQJl8Cle3GqSbt1R41RTvUZ9OF3ubWvSnaNxPqGqTY5hy
s6o325drJwkHB7knPIElk0Sz6k1/9DzVhVvcrbGW01bLzKgqk5Mwp6umCky2g6eXhIPrcG6Qj8mH
63etyPdlK4JemTSWNqieqjI5hg2fTw6d26zrkF4SDh735TPOdm8Hd04bWRS5eMZ+f1jz6HjamFHV
mRzCQR8s3eQIinSVOEjCwe/iiPaTXRP23gmVyS6TxLaTZaB6FJ7eRkq9qdDFBkk4eNW/0R2lcBNe
uESZFeRxuaq2LQaq1mQXNmx50IE5q3IuCQfnO4mkpVGIN/flucvJS/Lo7VIkV4PH1ZlpqEaTk7CV
K5UpE9aRB5Jw8P1YEFESnvJEs1oTdwub9krb/HPLdnWEtOVYN05DNZqchQ0LqzMgZS0Pz6UkHDyw
fUL5zWzbnlyjY6k+AxFc/jk4AHM5a6hGk9Mwhe72v9+wc96AQxRrSTg40ZNTJtCLr3VpmEA7HnGS
sPDZtVvOlfrPmXz+dfAefPKpNWU0l35q/WeTdDhn5hmz9Ism/bubRFEM3r2j8av//vgHtuMchv5A
yF4AAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can substitute a Variable that is not an argument, however:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mapTo5</span><span class="o">.</span><span class="n">substituted</span><span class="p">({</span><span class="n">FIVE</span><span class="p">:</span><span class="n">aLit</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[44]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/ac7170fa482eae45767253b96d2614478a09413a0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAAKCAMAAAAn4TYHAAAANlBMVEX///+6uroUFBQNDQ0yMjJE
RETMzMwQEBAiIiKYmJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAACltDI1AAAAAXRSTlMAQObYZgAA
AKpJREFUKM+dUe0OAyEIw+38QkR5/5cdmHmnyy5Z5g/TAG2lAvx9euPaiQvPwrG1ibbhys3Frggb
QE4ZYpq9tOtWvPCgeDGoNGBFFG54WPvpJlnv4kfZJP06+Hyk7URx03o4pXOjyCvvww/qpIGYPko4
7cPb+BuvLM80fZIxm/tYD/iGF663oFi29bAsSFf1UbWuNu+xLPjQWCgVyxI9N2yN809fXZld8Ozg
BS1VBib4pzOIAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are important limits regarding <em>relabeling</em> and <em>substitution</em> within the "scope" of the <code>Lambda</code>.  In particular, parameters of the Lambda function are "reserved" and may not be used in <em>substitution</em> or <em>relabeling</em>.  Otherwise, you could alter the meaning of the <strong>expression</strong> in ways that can invalidate a proof (<em>e.g.</em>, via a <em>specialization</em> step which relies upon <em>expression substitution</em> internally).</p>
<p>For example, consider the mapping $(x, \omega) \mapsto z$, defined below:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mapXOmegaToZ</span> <span class="o">=</span> <span class="n">Lambda</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">omega</span><span class="p">],</span> <span class="n">z</span><span class="p">)</span>
<span class="n">mapXOmegaToZ</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[45]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/802791a0c78db5d39765026988ea6f1c925142460/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAAAVCAMAAAAeumK3AAAANlBMVEX///8UFBQNDQ3c3NwiIiJE
RESqqqqYmJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAABQuW4xAAAAAXRSTlMAQObYZgAA
AU9JREFUOMu1VddyxCAMJJFBIIrg/382mOIzDpeBmYsfGJdlWa2KhfjfK/ISDOM+dfCLQBO2uZ1d
Ru5SMy9DUW9y07JsYWkzkTuBSrXFbVqcoNmDYjM41D0IVEm1mVuvxjMjURTAwmENN9PggYKOeyqg
3QDVU9RFeYwK/d1YkMjGyGx3vBRyyrvDU3bZxdgEveG2Hm4P5UVeU7yevXykIlz5w3pkSP3b99cx
XJSGzoLSM7d39KjGIlv5m/Ev7odu4QfqWPNCVxoghW5BwxdWVRIt/vbEwJDaBpfVSYRit2D74pfh
VJoFQW9dfJPLwL+pfS8rlVDILApOkE11pyY25M+lx/aqwdG+of2CQ4PosqZYeKxkbbWu5WAplRCt
Sy6cy+WlWxmF+XxMVQ7BpFnhIz0/HUA4h2r+wIydc9vtGdvqfBi7c6CH/R8PrIXKu7+dHw64Cu4V
B/uEAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The $x$ and $w$ are not allowed to be used as substitutions. For example, we are not allowed to substitute $\omega$ for $z$, which would create a potentially non-equivalent function $(x, \omega) \mapsto \omega$:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[46]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">ScopingViolation</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">mapXOmegaToZ</span><span class="o">.</span><span class="n">substituted</span><span class="p">({</span><span class="n">z</span><span class="p">:</span><span class="n">omega</span><span class="p">})</span>
    <span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Expecting a ScopingViolation error; should not make it to this point&quot;</span>
<span class="k">except</span> <span class="n">ScopingViolation</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;EXPECTED ERROR: &quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>EXPECTED ERROR:  Scoping violation while substituting(x, omega) -&gt; z.  Must not make substitution with reserved variables (i.e., parameters of a Lambda function).
These variables are in violation: {omega}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And we are not allowed to simply relabel $z$ as $\omega$:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[47]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">ScopingViolation</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">mapXOmegaToZ</span><span class="o">.</span><span class="n">relabeled</span><span class="p">({</span><span class="n">z</span><span class="p">:</span><span class="n">omega</span><span class="p">})</span>
    <span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Expecting a ScopingViolation error; should not make it to this point&quot;</span>
<span class="k">except</span> <span class="n">ScopingViolation</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;EXPECTED ERROR: &quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>EXPECTED ERROR:  Scoping violation while substituting(x, omega) -&gt; z.  Relabeling in violation of Variable scoping restrictions.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In addition, Lambda parameters must be distinct.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[48]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">ImproperSubstitution</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">mapXOmegaToZ</span><span class="o">.</span><span class="n">relabeled</span><span class="p">({</span><span class="n">x</span><span class="p">:</span><span class="n">omega</span><span class="p">})</span>
    <span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Expecting an ImproperSubstitution error; should not make it to this point&quot;</span>    
<span class="k">except</span> <span class="n">ImproperSubstitution</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;EXPECTED ERROR: &quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>EXPECTED ERROR:  Lambda parameters Variables must be unique with respect to each other.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It is possible, however, to perform simultaneous <em>relabeling</em> that is consistent (retains the meaning). For example, recall our earlier <code>Lambda</code> expression $(x, \omega) \mapsto x$:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[49]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lambdaExpr</span> <span class="o">=</span> <span class="n">Lambda</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">omega</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">conditions</span><span class="o">=</span><span class="p">[</span><span class="n">InSet</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Reals</span><span class="p">),</span> <span class="n">InSet</span><span class="p">(</span><span class="n">omega</span><span class="p">,</span> <span class="n">Reals</span><span class="p">)])</span>
<span class="n">lambdaExpr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[49]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/10b5a03a8bdf7be69daf0a7e71153b100c649d780/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOQAAAAVCAMAAABhR7IDAAAANlBMVEX///8UFBQNDQ3c3NwiIiJE
RESqqqqYmJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAABQuW4xAAAAAXRSTlMAQObYZgAA
AjJJREFUWMPFWEli4yAQJGET0Gz//+wAsmRWu2OPZR2cQ6uKKnoBhZBLHkHJl5/gMW/J8MYSW/iy
R2dx7yl3nUkJkfMIoMG/stwIB4OEwpWZ5ISmzXdcwEuV3sE9eq/kdq1Jlf8Yyl80WcM1NpHE6I+Z
NB5YemBQuTmCMPkMHv5QhFx8yKQDaeapQJl8Cle3GqSbt1R41RTvUZ9OF3ubWvSnaNxPqGqTY5hy
s6o325drJwkHB7knPIElk0Sz6k1/9DzVhVvcrbGW01bLzKgqk5Mwp6umCky2g6eXhIPrcG6Qj8mH
63etyPdlK4JemTSWNqieqjI5hg2fTw6d26zrkF4SDh735TPOdm8Hd04bWRS5eMZ+f1jz6HjamFHV
mRzCQR8s3eQIinSVOEjCwe/iiPaTXRP23gmVyS6TxLaTZaB6FJ7eRkq9qdDFBkk4eNW/0R2lcBNe
uESZFeRxuaq2LQaq1mQXNmx50IE5q3IuCQfnO4mkpVGIN/flucvJS/Lo7VIkV4PH1ZlpqEaTk7CV
K5UpE9aRB5Jw8P1YEFESnvJEs1oTdwub9krb/HPLdnWEtOVYN05DNZqchQ0LqzMgZS0Pz6UkHDyw
fUL5zWzbnlyjY6k+AxFc/jk4AHM5a6hGk9Mwhe72v9+wc96AQxRrSTg40ZNTJtCLr3VpmEA7HnGS
sPDZtVvOlfrPmXz+dfAefPKpNWU0l35q/WeTdDhn5hmz9Ism/bubRFEM3r2j8av//vgHtuMchv5A
yF4AAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can simultaneously relabel $x$ as $\omega$ and $\omega$ as $x$ to obtain the equivalent mapping $(\omega, x) \mapsto \omega$:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[50]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lambdaExpr</span><span class="o">.</span><span class="n">relabeled</span><span class="p">({</span><span class="n">x</span><span class="p">:</span><span class="n">omega</span><span class="p">,</span> <span class="n">omega</span><span class="p">:</span><span class="n">x</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[50]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/86aeffdc8c446b38ba3412b7603c93bfc98c5cc40/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAAAVCAMAAABlsmI+AAAANlBMVEX///8UFBQNDQ3c3NwiIiJE
RESqqqqYmJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAABQuW4xAAAAAXRSTlMAQObYZgAA
AkxJREFUWMPVWNt24yAMpJUxGMTt/392bRPbIMSGTU6cszy4TaoRM+iCXCFuWjOIL68YhsxUfGcT
Hb+s0rtBw8XfKVNhkjIhGgwvbNei0Y5i8d5oSgFrBLyc8ZWEJ+gwflhK3y1z2X5YkK/JLNFmOJjC
mk/KtAGndSElqr14LrMBE3T8l0yU8+dkelSWjceIzBZM0MsjEY989KaSAjo4mMOSM1svfJnOFYZ1
VcrkDEDaTto5mrQ1pw6YoFHtX4ajysGUBWjXD2pSwkxZzqluqn26YhveVSGTNZDQIRonVbcgwqkD
JmgTrwPeuQZFAhPSqi/fJdF0ZFoHdawaV4VMzsBKlqjZ6o1UCuHUARN02reP/uwwqrwdNzLucuLT
8dvvz1Qtkw4ZHVeXTNYgmsNT3YLiImhCEk4dMEFnevsBz64snHOZwMgk0RQuVrFqXem/G3Azyp52
S+T+ZMLTAadG5y6QN533+ibmkPyRY/2kXa6c7bi6ZLIGdupVF9qqjBpOHTBBy/z0W6hWJrDPRKcD
BXsZiGAfIxQv0xeHS1y1MnkDpzpE13A4LwpShFMHTND5jtAmLMZtj+2UbXqomJMSco0gPGRcF0po
yuXUU7nikpY1sFPsXAlr4LdOepCinDpggo472GJCvz1innYSPFpY0FbrM2twYGKrXTEyOwaA9atB
Hr630KPENJ+kKCcW3KCF4ebiCPcPe2tbwrpZDpEaBLPzuOKpho/KfPrm8BaaexFTfDqK/1gmtLcO
HzUHX5UZ3sTDmIPg3yL51X+S/AHKQRzeDFgiMQAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Operation"><a name="Operation" />Operation<a class="anchor-link" href="#Operation">&#182;</a></h1><p>This type of <strong>expression</strong> represents an applied operation.  It contains <em>operator(s)</em> (one or more <code>Label</code>s and possibly <code>Iteration</code>s of <code>Indexed</code> <code>Label</code>s that will be discussed in the <a href="tutorial10_advanced_expr.ipynb#Iter">Iter</a> section of the <a href="tutorial10_advanced_expr.ipynb">advanced expressions</a> chapter) and <em>operand(s)</em> (one or more of any <code>Expression</code>).  The default formatting of an <code>Operation</code> with one <em>operator</em> and more than one <em>operand</em> is to place the <em>operator</em> between each successive pair of <em>operands</em> as follows.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[51]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">Operation</span>
<span class="n">Operation</span><span class="p">(</span><span class="n">TIMES</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">omega</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[51]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/f107855802d6bee2e3c44fae1062b54d2b57660b0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAAOBAMAAACoZ51gAAAAMFBMVEX///+6uroyMjJERETMzMwQ
EBAiIiKYmJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAAWgogoAAAAAXRSTlMAQObYZgAAAQdJREFU
KM9jYIADFSB+xIAMMEXenn518gCI8cyBgS8FxOidy8D3A0WE4QIQuy5g4LjAns6aABIAigNlQTLy
DDwfUER4HgCJpxcYeIESXGARhmd+YGNYFkxjYDZAFgEqYmhg4Clg4GDgNoA6iC8NrImDIYaB/wCy
CIMIA0cAAzuIzXoAVTED1w8GfwcUkQsMXBtAxjMwvHcA2oFsKacCw1EGFBGgygUMbxkY2B+cZ+Bp
QPEO0wQGawYUERMGfwE+DQaG9QWmDG8YUAKKcwPjd1SRqyejY6YuYGBoPtt7pwA1CjhsTv5DFWn6
5KGvyIAD8CYwEAu2MbQuIFpxLoMt0WoZ1pwUwC4BAGIpTiAtJKbsAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A <code>Function</code> is derived from <code>Operation</code>.  It behaves in the same manner except it formats it in a "function" style:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[52]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">Function</span>

<span class="c1"># Simple case: a Variable operator with a single Variable operand</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="n">fx</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">fx</span> <span class="c1"># f(x)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[52]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/0ee628b342190d38a98c6097747770817f67b5f60/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAVBAMAAAAp9toTAAAAMFBMVEX///8yMjLMzMwQEBAiIiJm
Zma6urqYmJiqqqp2dnZERETc3NyIiIhUVFTu7u4AAAAe+HC4AAAAAXRSTlMAQObYZgAAAPpJREFU
GNNjYCAAcqB0GYR6e3YDkGS6ABVlVQBTK/sLgCTjA5gmARDB9+0FiDoDN6oSRHB8ALPt4KKPweY4
gEg2AbgoVwMDA/tl3wCQ3AQGBu45t3tiGBg4QXz+AyAFjEAbXzKUFJgAjQRp2w92CXMCA8MEhvMM
TUDDDID8frBh/EDRBwy3QEwmkPVT4KIMDDZw0bVgUWagxQzcnxj4oCbYQJwDtK2a5wPDOaCrBEBe
A4sCncPxncuA+wDEZWz/wKJsDgx8a+bNPA5yJNAKHqinrJF9XAsyEB4mYDCHgcHwCZQND0k+oObK
aCiHGxbqvBuQY2gPlD7EwAAAkqk1TOFGkRwAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Common forms of these are available from <a class="ProveItLink" href="../packages/proveit/_common_.html">proveit.common</a>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[53]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit._common_</span> <span class="k">import</span> <span class="n">fx</span><span class="p">,</span> <span class="n">gx</span><span class="p">,</span> <span class="n">Px</span><span class="p">,</span> <span class="n">Qx</span>
<span class="n">ExprTuple</span><span class="p">(</span><span class="n">fx</span><span class="p">,</span> <span class="n">gx</span><span class="p">,</span> <span class="n">Px</span><span class="p">,</span> <span class="n">Qx</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[53]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/7b8a64a84c83d0e0992dddb4e4f76fb5a9c572f00/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAAAVBAMAAABPgOQBAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAA0tJREFU
SMfFVk1oE1EQnphNuptmkxykl1LMQe8KlvagGPAmSquCgoqNUlpEAkWxJ6W16EFEDQhFemlBBAsi
aT0ISknwVPDQXKz4E1o9aUVMbarE1taZefve7kuy0JsL2Z193/e+mcybN28B/ssVK9bbocV63nfn
ebahytZQ0mXGa7pZM1PKputq3bxozjGaCmrMzq+9nJ7yQwFaBi8WNZR0mTFJL8HeVZA2XZE6p5Gs
tCbcwTjanQk/NPwEYDqroRHBsDmW8a8pkDbnIV3rtKSsE+7gHNK60j6o9RBvZk5DSRcZJkfRxUOm
isgarnV6S1kP3MEFXKOeAR80kqR0VzWUdJGxxC+X+L7kyu2tLTc3bcGUMg/gL5/yQYdo8cIbGkq6
yBgk8/TIc3qQ3fJh+1vMcr+inZw/ThFjXgKZqSPXUGdAYX8w9hUfNLDC61oRqEcXGY+Y8ZfvaFvp
0C4T83JI6jblAr8pV90Ao3CsewTAUIFHfwG8GvBBm7g0g+sC9egi4y5Htc48tMNglw3Myxcp3JOF
Ci03rl4aFuAwZkutt73W138OfNBtVa7vYYF6dJGxQZBRZh7aFjTv5rqUwrchukyTcWIWnvH/K6v1
q8qt0wCNs3eqbUI9ushgp+GkdIpxFb1OjQrYSUcW4I7uNJ70OK1FBfg4K1Gli4wbHLJoGWzvKGDQ
Kr32MgRp1cyUWAXLm945WTSN0Ah5N9Yl6uoio92NguxQYgFsBE/RpqLdXIY4zQliMRy1y/AOh6hU
snKbijw3QI2NQKkwu+igHl1k8N4YF7PR7uruhDZhwjgmyKpCnvoc1rmxGhwOFMWmsH7yNpXNpCF6
fhR69zioVxdfP9PwDzEb7fvzoxkMDJ5Sc6EK+lbixhFLgrX/Qt8byhvVxb0EWJc3Z2TrqEdx8EVm
J0QF6tVFhkn4e2dpEnob/MR2B9+v640ultAalg+6D87oqNMGsQWHcu21bT7Mi4yhxcCq1DTyDFP1
LumDdogO6KKkm+HjzJyUpa+OtjFwnA4lmnP60WZNNHDqg+Y3F/VjccxhtEKoX+aqVYJ8Mtv4O1i6
4rRSeRA3M7moO/VBZ2/qKOkyI+CZL227UP/J0eY8Pzb8INkaSrrI+AfS/BIHYzxYNAAAAABJRU5E
rkJggg==
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's derive a couple of classes from <code>Operation</code> to represent operations with specific literal operators.
This is commonly done within Prove-It library modules.  We use the <code>%load</code> magic command to display (and execute) the contents of <a href="demo_operations.py">demo_operations.py</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># %load demo_operations.py</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Module that defines a Factorial Operation purely for purposes of a</span>
<span class="sd">tutorial.</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">Operation</span><span class="p">,</span> <span class="n">Literal</span>

<span class="k">class</span> <span class="nc">Factorial</span><span class="p">(</span><span class="n">Operation</span><span class="p">):</span>
    <span class="c1"># _operator_ is a special class variable name, defining specific literal operator of the Operation class.</span>
    <span class="c1"># It is not only used for default formatting but also when performing substitutions for rebuilding expressions.</span>
    <span class="n">_operator_</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">(</span><span class="s1">&#39;!&#39;</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operand</span><span class="p">):</span>
        <span class="c1"># creates the Operation with FACTORIAL as the operator and the provided operand as its only operand.</span>
        <span class="n">Operation</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Factorial</span><span class="o">.</span><span class="n">_operator_</span><span class="p">,</span> <span class="n">operand</span><span class="p">)</span> <span class="c1"># initializes self.operand</span>

    <span class="k">def</span> <span class="nf">string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="c1"># should accept kwargs even when not used (e.g., &#39;fence&#39;)</span>
        <span class="c1"># the operand should be fenced (wrapped in parentheses) to prevent ambiguity</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">operand</span><span class="o">.</span><span class="n">string</span><span class="p">(</span><span class="n">fence</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">+</span> <span class="n">Factorial</span><span class="o">.</span><span class="n">_operator_</span><span class="o">.</span><span class="n">string</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">latex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="c1"># should accept kwargs even when not used (e.g., &#39;fence&#39;)</span>
        <span class="c1"># the operand should be fenced (wrapped in parentheses) to prevent ambiguity</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">operand</span><span class="o">.</span><span class="n">latex</span><span class="p">(</span><span class="n">fence</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">+</span> <span class="n">Factorial</span><span class="o">.</span><span class="n">_operator_</span><span class="o">.</span><span class="n">latex</span><span class="p">()</span> 

<span class="k">class</span> <span class="nc">Multiply</span><span class="p">(</span><span class="n">Operation</span><span class="p">):</span>
    
    <span class="c1"># This operator Literal has a LaTeX format that differs from the string format.</span>
    <span class="n">_operator_</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\times&#39;</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">operands</span><span class="p">):</span> <span class="c1"># takes a list of arguments as the operands</span>
        <span class="c1"># creates the AssociativeOperation with TIMES as the operator and any number of operands.</span>
        <span class="n">Operation</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Multiply</span><span class="o">.</span><span class="n">_operator_</span><span class="p">,</span> <span class="n">operands</span><span class="p">)</span>
    
    <span class="c1"># The default formatting will display the operator between the operands</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In order to work properly, however, we need to import these classes from the module (as Prove-It will use the <code>__file__</code> attribute of this module for its internal purposes).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[55]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">demo_operations</span> <span class="k">import</span> <span class="n">Factorial</span><span class="p">,</span> <span class="n">Multiply</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A <code>Factorial</code> is an <code>Operation</code> with "!" as the format of the <code>Literal</code> operator.  Its formatting is altered from the default but is still true to the core <code>Expression</code> structure (the formatting is a reflection of the internal structure).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[56]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Now we can make an object with this new class</span>
<span class="n">xFactorial</span> <span class="o">=</span> <span class="n">Factorial</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[56]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="xFactorial">xFactorial:</strong> <a class="ProveItLink" href="__pv_it/f298b6802ab61432aea8682a150b9f30732ed7760/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOBAMAAADUAYG5AAAALVBMVEX///8yMjJERETMzMwQEBAi
IiKYmJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAASYyFDAAAAAXRSTlMAQObYZgAAAGZJREFUCNdj
YAADdicIzcD7DspgfwplMDyEMbwYGO7surljA0MEA/sBtjCWAAYdBh4G7gecBgzLGNgZuBSAak4C
McsGILEZiO8ZMBQwmDOwXdjHwF0A5M9LUGG4DTK5aE/N6QSgpQBu6hcw6Hx/hgAAAABJRU5ErkJg
gg==
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[57]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># show core structure</span>
<span class="n">xFactorial</span><span class="o">.</span><span class="n">exprInfo</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[57]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><th>&nbsp;</th><th>core type</th><th>sub-expressions</th><th>expression</th></tr>
<tr><td>0</td><td>Operation</td><td>operator:&nbsp;1<br>operand:&nbsp;2<br></td><td><a class="ProveItLink" href="__pv_it/f298b6802ab61432aea8682a150b9f30732ed7760/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOBAMAAADUAYG5AAAALVBMVEX///8yMjJERETMzMwQEBAi
IiKYmJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAASYyFDAAAAAXRSTlMAQObYZgAAAGZJREFUCNdj
YAADdicIzcD7DspgfwplMDyEMbwYGO7surljA0MEA/sBtjCWAAYdBh4G7gecBgzLGNgZuBSAak4C
McsGILEZiO8ZMBQwmDOwXdjHwF0A5M9LUGG4DTK5aE/N6QSgpQBu6hcw6Hx/hgAAAABJRU5ErkJg
gg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>1</td><td>Literal</td><td></td><td><a class="ProveItLink" href="__pv_it/d6af88116966bca28fcbee5fe103a74f1e8a81d50/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAOBAMAAAAYmLtSAAAALVBMVEX////MzMyIiIiqqqqYmJh2
dnZmZmZUVFQyMjIiIiLc3NxEREQQEBDu7u4AAACiA/ybAAAAAXRSTlMAQObYZgAAADBJREFUCNdj
uLOBYd0DhnsTGPgaGHgKGDgTGLgDGNgdGFgNGJgEGBgvMAABUPbOBgD2TQqw6cTpzgAAAABJRU5E
rkJggg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>2</td><td>Variable</td><td></td><td><a class="ProveItLink" href="../packages/proveit/__pv_it/530be409e3083890784cf1d7b28c9e67e90af9360/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAJBAMAAAAWSsseAAAAKlBMVEX///9ERETMzMwQEBAiIiKY
mJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAA/vyDhAAAAAXRSTlMAQObYZgAAAENJREFUCNdjYDi9
8sTyBQxsG1hdmR0YuBm4LnAoMLAxcAowgADzAjB1VoEhgYH1wFoGrgSG3gBhhlMMDImrs3cFMAAA
t0YN+iTRa+sAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
</table>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In the Jupyter notebook setting, we typically only use LaTeX formatting, but it is important to define the string formatting as well for whenever it is needed (e.g., when error messages are displayed).  The <code>fence=True</code> above indicates that parentheses should be used when it could be ambiguous otherwise.  Our example above has no ambiguity, so parentheses are not used.  We will show a case below where the parentheses are required.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next we consider a multiple <em>operand</em> example using the <code>Multiply</code> class that we imported from <a href="demo_operations.py">demo_operations.py</a> above.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[58]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Demonstrating an Operation with multiple operands</span>
<span class="n">multExpr</span> <span class="o">=</span> <span class="n">Multiply</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">FIVE</span><span class="p">,</span> <span class="n">omega</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[58]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="multExpr">multExpr:</strong> <a class="ProveItLink" href="__pv_it/39dcf270b64d65a7b0f8dfcc8ac8fe099a141acb0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAAAOBAMAAABHpfZeAAAAMFBMVEX///+6uroyMjJERETMzMwQ
EBAiIiKYmJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAAWgogoAAAAAXRSTlMAQObYZgAAAPVJREFU
KM9jYMAC1BveLmAgEsT//0usUgbNvQ5Eq91AUIUKED9CUYsQgYK3p1+dPABiPHNg4EsBC+05s5EB
RYQXiFmiGDgusKezJoAEgMLPIO60YOgXQBE5B+LEArXwfOCCKHnmlwKzjDsAReQCAwcDw3EgwW0A
VcCXBvc+7xdkEUYHhlYGhhIgi/UAmlrmBAbej8giQOeuBhnOwPDegaEBxUag8zn/IYtwMzDcYuC7
wMD+4DwDTwOKTzgZGJgUkEWYHVg+MjxqYFhfYMrwBjWE+CYwLH2ALMIbM3XrySgGhuazvXcK0ELe
c/Y+FBEOfZWmTwIMAHt6TOm5ikbeAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[59]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Let&#39;s nest Operations and show proper fencing behavior</span>
<span class="n">nestedOperation</span> <span class="o">=</span> <span class="n">Factorial</span><span class="p">(</span><span class="n">multExpr</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[59]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="nestedOperation">nestedOperation:</strong> <a class="ProveItLink" href="__pv_it/3be8bf6adf5676835058983839089d37ac50da220/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAAAVBAMAAAC3TN2zAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAAZNJREFU
OMudlD9Iw0AUxr8zNk2atpYODnWwOHdwcXAQOgpVqA5OIhlEcSh0EkGEIsWtmkmKS7MUKRRsEcRF
iZODSx2KCIrF0akOOkipvkuiJiUO8eDucr93X+79uQT4X4u2/OxesecbT2tVG0178aABlCeBmqfq
4PPd+zAdGO8i4u3g8ZnhrVoCKklImqex8VdgZWBEx4sT1aknXKpfYjchDamBTXpiueb8DkdxAyxl
Gi8eL+EiIvVwkeY8hvKo0uoQi9ldbqINcSueaVQ6LnLLF3vAsA5BxT6tVDxhznr1VerbFaXgIipk
oE3lLUDJok9Ew6m9lU38pE7sOUnU4HlYJi+7ENOmCigNqIQkxL6TUFgZfiBXRQwUTVOPn+/wR0oi
+OokCrAKppoehjVMEVqIdHHvij0IhHQnEYxwHwmqbcDE65SWN6HAWq48szxmY04ilrbO77hflHm6
G8+APLOx1h6o6fV200Xkk/rRB69FqMNvrxTz92GVzTGg+lPlrKnmSyTr1jzmS6XYATFff4AHc/wC
HphkT5B69/UAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[60]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nestedOperation</span><span class="o">.</span><span class="n">exprInfo</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[60]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><th>&nbsp;</th><th>core type</th><th>sub-expressions</th><th>expression</th></tr>
<tr><td>0</td><td>Operation</td><td>operator:&nbsp;1<br>operand:&nbsp;2<br></td><td><a class="ProveItLink" href="__pv_it/3be8bf6adf5676835058983839089d37ac50da220/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAAAVBAMAAAC3TN2zAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAAZNJREFU
OMudlD9Iw0AUxr8zNk2atpYODnWwOHdwcXAQOgpVqA5OIhlEcSh0EkGEIsWtmkmKS7MUKRRsEcRF
iZODSx2KCIrF0akOOkipvkuiJiUO8eDucr93X+79uQT4X4u2/OxesecbT2tVG0178aABlCeBmqfq
4PPd+zAdGO8i4u3g8ZnhrVoCKklImqex8VdgZWBEx4sT1aknXKpfYjchDamBTXpiueb8DkdxAyxl
Gi8eL+EiIvVwkeY8hvKo0uoQi9ldbqINcSueaVQ6LnLLF3vAsA5BxT6tVDxhznr1VerbFaXgIipk
oE3lLUDJok9Ew6m9lU38pE7sOUnU4HlYJi+7ENOmCigNqIQkxL6TUFgZfiBXRQwUTVOPn+/wR0oi
+OokCrAKppoehjVMEVqIdHHvij0IhHQnEYxwHwmqbcDE65SWN6HAWq48szxmY04ilrbO77hflHm6
G8+APLOx1h6o6fV200Xkk/rRB69FqMNvrxTz92GVzTGg+lPlrKnmSyTr1jzmS6XYATFff4AHc/wC
HphkT5B69/UAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>1</td><td>Literal</td><td></td><td><a class="ProveItLink" href="__pv_it/d6af88116966bca28fcbee5fe103a74f1e8a81d50/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAOBAMAAAAYmLtSAAAALVBMVEX////MzMyIiIiqqqqYmJh2
dnZmZmZUVFQyMjIiIiLc3NxEREQQEBDu7u4AAACiA/ybAAAAAXRSTlMAQObYZgAAADBJREFUCNdj
uLOBYd0DhnsTGPgaGHgKGDgTGLgDGNgdGFgNGJgEGBgvMAABUPbOBgD2TQqw6cTpzgAAAABJRU5E
rkJggg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>2</td><td>Operation</td><td>operator:&nbsp;3<br>operands:&nbsp;4<br></td><td><a class="ProveItLink" href="__pv_it/39dcf270b64d65a7b0f8dfcc8ac8fe099a141acb0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAAAOBAMAAABHpfZeAAAAMFBMVEX///+6uroyMjJERETMzMwQ
EBAiIiKYmJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAAWgogoAAAAAXRSTlMAQObYZgAAAPVJREFU
KM9jYMAC1BveLmAgEsT//0usUgbNvQ5Eq91AUIUKED9CUYsQgYK3p1+dPABiPHNg4EsBC+05s5EB
RYQXiFmiGDgusKezJoAEgMLPIO60YOgXQBE5B+LEArXwfOCCKHnmlwKzjDsAReQCAwcDw3EgwW0A
VcCXBvc+7xdkEUYHhlYGhhIgi/UAmlrmBAbej8giQOeuBhnOwPDegaEBxUag8zn/IYtwMzDcYuC7
wMD+4DwDTwOKTzgZGJgUkEWYHVg+MjxqYFhfYMrwBjWE+CYwLH2ALMIbM3XrySgGhuazvXcK0ELe
c/Y+FBEOfZWmTwIMAHt6TOm5ikbeAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>3</td><td>Literal</td><td></td><td><a class="ProveItLink" href="__pv_it/7fa9fd20fee7806a99050bf24ffcbd2251e9b7fe0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKBAMAAACQ3rmwAAAAElBMVEX///8iIiLc3NzMzMwyMjIA
AAASH0o5AAAAAXRSTlMAQObYZgAAACtJREFUCNdjcGZgYFBhYFA0YGASZgBhIAvINQJygFxBAyQK
IghVAtUA0Q4AhEYDuQjrDycAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>4</td><td>ExprTuple</td><td>5, 6, 7</td><td><a class="ProveItLink" href="__pv_it/96b715de406ac1217fe654696d37608ed7ec20da0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAAAVBAMAAADvM06qAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAAV5JREFU
KM9jYCAC8F3AJxsHIk6jCC2dIOaAzGc/ACRWoijp//8N1ZgFDAy8qPYs33YAVUkYAwPHBBSRDeiO
mcHA8IoBvxJmB4YyIMWYu9G3FiKy9+4+CIMNiHlagHQBw1IgcxpDUEATRMaSYf4DMOMiSGsbAwPL
AoY+IDOB4T6DD8xk7gYwlcDAycBwFRhsDQz/gNwJDJsRlrP9AQfoAZBDY4CWfQArYWDohTlOgYHt
H9Qp3iCjQEpaQAKMf0DGAgGHAgP7R7B1DAwpDIwJYItMgfxA3g8MN8GK2BkYuBYALWZgPsDzj0EK
yGBdwJAOdPRX5gbGCwzzFYDGFTB4CHB+AlrUW7HjOsgGoKcfMTBw2mamAd0+A2TD8eqNDJz9Agyc
69fM+gXyPtcDBg4BuF8ewtOHAEoEsCbAeQEwBitSBOSiJAZsSjiBiYFBGsbjhYsjpQ9ukJ2MeBPm
HQYGAH6CUF6urHX7AAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>5</td><td>Variable</td><td></td><td><a class="ProveItLink" href="../packages/proveit/__pv_it/530be409e3083890784cf1d7b28c9e67e90af9360/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAJBAMAAAAWSsseAAAAKlBMVEX///9ERETMzMwQEBAiIiKY
mJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAA/vyDhAAAAAXRSTlMAQObYZgAAAENJREFUCNdjYDi9
8sTyBQxsG1hdmR0YuBm4LnAoMLAxcAowgADzAjB1VoEhgYH1wFoGrgSG3gBhhlMMDImrs3cFMAAA
t0YN+iTRa+sAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>6</td><td>Literal</td><td></td><td><a class="ProveItLink" href="__pv_it/084027c5e7faf3e99fe505f569d22a93a32e5b730/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAOBAMAAAAPuiubAAAAMFBMVEX///8iIiJERES6urqIiIjM
zMxUVFRmZmYQEBCqqqp2dnbc3Nzu7u6YmJgyMjIAAADYGhJvAAAAAXRSTlMAQObYZgAAAE1JREFU
CNdj4LvDvZKBgeP//wUMDHxlSxkYGNgYGBCki5sBAwPTAZ7PYG4GmFwfwKAIJA0YGhkY6jcwFDAw
vGNg2M7A2c3AwFqetoEBAKS8EE1WXEJLAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>7</td><td>Variable</td><td></td><td><a class="ProveItLink" href="__pv_it/9d7c4e1c5ee4d34a7826567c9ff37cf313ab71e60/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJBAMAAAAbVLtZAAAALVBMVEX///9mZmYyMjJERERUVFS6
urqYmJju7u7c3NyIiIiqqqoQEBDMzMx2dnYAAACcB6guAAAAAXRSTlMAQObYZgAAAExJREFUCNdj
YLjAwMBwegEDZwOQ7r7AwMvAUMDAmcAQw8C+gYHtAFCaywEkCCQWMPQyMNgwnAvgUGdguD1xy07p
BQwMRY+O66kyMAAAM0ARC3HE760AAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
</table>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Operand-substitution/relabeling">Operand substitution/relabeling<a class="anchor-link" href="#Operand-substitution/relabeling">&#182;</a></h3><p><em>Substitution</em> and <em>relabeling</em> of <em>operands</em> is straightforward in the way it works.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[61]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">xFactorial</span><span class="o">.</span><span class="n">relabeled</span><span class="p">({</span><span class="n">x</span><span class="p">:</span><span class="n">omega</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[61]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/17856ef61df51dccbc9c97ee8f8f57a7620651070/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAOBAMAAADQ9FGEAAAAMFBMVEX///8iIiJmZmYyMjJERERU
VFS6urqYmJju7u7c3NyIiIiqqqoQEBDMzMx2dnYAAACMQNsoAAAAAXRSTlMAQObYZgAAAG1JREFU
CNdjYIAAjiNQBgPnfxiL4yOMxfAZzjrKwPAASN3ZwCDEwDUByJrzgMGPgY+BoYGBq4AhnCGXgeMA
A/sFhtdAZdwBIIm1DEBqA8M8BoYbDL4M9xM4LUDmvFl09JTOBpAdzZ9v2JuBXAAAt+wchvePqAsA
AAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Notice that the relabeled() method is non-mutating, leaving the <strong>xFactorial</strong> expression as it was originally defined:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[62]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">xFactorial</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[62]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/f298b6802ab61432aea8682a150b9f30732ed7760/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOBAMAAADUAYG5AAAALVBMVEX///8yMjJERETMzMwQEBAi
IiKYmJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAASYyFDAAAAAXRSTlMAQObYZgAAAGZJREFUCNdj
YAADdicIzcD7DspgfwplMDyEMbwYGO7surljA0MEA/sBtjCWAAYdBh4G7gecBgzLGNgZuBSAak4C
McsGILEZiO8ZMBQwmDOwXdjHwF0A5M9LUGG4DTK5aE/N6QSgpQBu6hcw6Hx/hgAAAABJRU5ErkJg
gg==
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can also substitute an entire expression in for the variable $x$:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[63]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nestedOperationFromSub</span> <span class="o">=</span> <span class="n">xFactorial</span><span class="o">.</span><span class="n">substituted</span><span class="p">({</span><span class="n">x</span><span class="p">:</span><span class="n">multExpr</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[63]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="nestedOperationFromSub">nestedOperationFromSub:</strong> <a class="ProveItLink" href="__pv_it/3be8bf6adf5676835058983839089d37ac50da220/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAAAVBAMAAAC3TN2zAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAAZNJREFU
OMudlD9Iw0AUxr8zNk2atpYODnWwOHdwcXAQOgpVqA5OIhlEcSh0EkGEIsWtmkmKS7MUKRRsEcRF
iZODSx2KCIrF0akOOkipvkuiJiUO8eDucr93X+79uQT4X4u2/OxesecbT2tVG0178aABlCeBmqfq
4PPd+zAdGO8i4u3g8ZnhrVoCKklImqex8VdgZWBEx4sT1aknXKpfYjchDamBTXpiueb8DkdxAyxl
Gi8eL+EiIvVwkeY8hvKo0uoQi9ldbqINcSueaVQ6LnLLF3vAsA5BxT6tVDxhznr1VerbFaXgIipk
oE3lLUDJok9Ew6m9lU38pE7sOUnU4HlYJi+7ENOmCigNqIQkxL6TUFgZfiBXRQwUTVOPn+/wR0oi
+OokCrAKppoehjVMEVqIdHHvij0IhHQnEYxwHwmqbcDE65SWN6HAWq48szxmY04ilrbO77hflHm6
G8+APLOx1h6o6fV200Xkk/rRB69FqMNvrxTz92GVzTGg+lPlrKnmSyTr1jzmS6XYATFff4AHc/wC
HphkT5B69/UAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Internally, however, there is specific machinery required to regenerate these objects and construct them with the proper classes.  In order for this machinery to work, the <code>_operator_</code> class attribute must be properly defined (e.g., <code>Factorial._operator_</code> and <code>Multiply._operator_</code>).  To demonstrate that this is working properly, note that the classes displayed in the detailed expression info from <code>exprInfo()</code> are as they should be:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[64]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nestedOperationFromSub</span><span class="o">.</span><span class="n">exprInfo</span><span class="p">(</span><span class="n">details</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[64]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><th>&nbsp;</th><th>core type</th><th>sub-expressions</th><th>expression</th></tr>
<tr><td>0</td><td>Operation</td><td>operator:&nbsp;1<br>operand:&nbsp;2<br></td><td><a class="ProveItLink" href="__pv_it/3be8bf6adf5676835058983839089d37ac50da220/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAAAVBAMAAAC3TN2zAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAAZNJREFU
OMudlD9Iw0AUxr8zNk2atpYODnWwOHdwcXAQOgpVqA5OIhlEcSh0EkGEIsWtmkmKS7MUKRRsEcRF
iZODSx2KCIrF0akOOkipvkuiJiUO8eDucr93X+79uQT4X4u2/OxesecbT2tVG0178aABlCeBmqfq
4PPd+zAdGO8i4u3g8ZnhrVoCKklImqex8VdgZWBEx4sT1aknXKpfYjchDamBTXpiueb8DkdxAyxl
Gi8eL+EiIvVwkeY8hvKo0uoQi9ldbqINcSueaVQ6LnLLF3vAsA5BxT6tVDxhznr1VerbFaXgIipk
oE3lLUDJok9Ew6m9lU38pE7sOUnU4HlYJi+7ENOmCigNqIQkxL6TUFgZfiBXRQwUTVOPn+/wR0oi
+OokCrAKppoehjVMEVqIdHHvij0IhHQnEYxwHwmqbcDE65SWN6HAWq48szxmY04ilrbO77hflHm6
G8+APLOx1h6o6fV200Xkk/rRB69FqMNvrxTz92GVzTGg+lPlrKnmSyTr1jzmS6XYATFff4AHc/wC
HphkT5B69/UAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td colspan=4 style="text-align:left"><strong>class:</strong> tutorial.demo_operations.Factorial</td></tr>
<tr><td>1</td><td>Literal</td><td></td><td><a class="ProveItLink" href="__pv_it/d6af88116966bca28fcbee5fe103a74f1e8a81d50/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAOBAMAAAAYmLtSAAAALVBMVEX////MzMyIiIiqqqqYmJh2
dnZmZmZUVFQyMjIiIiLc3NxEREQQEBDu7u4AAACiA/ybAAAAAXRSTlMAQObYZgAAADBJREFUCNdj
uLOBYd0DhnsTGPgaGHgKGDgTGLgDGNgdGFgNGJgEGBgvMAABUPbOBgD2TQqw6cTpzgAAAABJRU5E
rkJggg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td colspan=4 style="text-align:left"><strong>context:</strong> tutorial</td></tr>
<tr><td>2</td><td>Operation</td><td>operator:&nbsp;3<br>operands:&nbsp;4<br></td><td><a class="ProveItLink" href="__pv_it/39dcf270b64d65a7b0f8dfcc8ac8fe099a141acb0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAAAOBAMAAABHpfZeAAAAMFBMVEX///+6uroyMjJERETMzMwQ
EBAiIiKYmJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAAWgogoAAAAAXRSTlMAQObYZgAAAPVJREFU
KM9jYMAC1BveLmAgEsT//0usUgbNvQ5Eq91AUIUKED9CUYsQgYK3p1+dPABiPHNg4EsBC+05s5EB
RYQXiFmiGDgusKezJoAEgMLPIO60YOgXQBE5B+LEArXwfOCCKHnmlwKzjDsAReQCAwcDw3EgwW0A
VcCXBvc+7xdkEUYHhlYGhhIgi/UAmlrmBAbej8giQOeuBhnOwPDegaEBxUag8zn/IYtwMzDcYuC7
wMD+4DwDTwOKTzgZGJgUkEWYHVg+MjxqYFhfYMrwBjWE+CYwLH2ALMIbM3XrySgGhuazvXcK0ELe
c/Y+FBEOfZWmTwIMAHt6TOm5ikbeAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td colspan=4 style="text-align:left"><strong>class:</strong> tutorial.demo_operations.Multiply</td></tr>
<tr><td>3</td><td>Literal</td><td></td><td><a class="ProveItLink" href="__pv_it/7fa9fd20fee7806a99050bf24ffcbd2251e9b7fe0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKBAMAAACQ3rmwAAAAElBMVEX///8iIiLc3NzMzMwyMjIA
AAASH0o5AAAAAXRSTlMAQObYZgAAACtJREFUCNdjcGZgYFBhYFA0YGASZgBhIAvINQJygFxBAyQK
IghVAtUA0Q4AhEYDuQjrDycAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td colspan=4 style="text-align:left"><strong>context:</strong> tutorial</td></tr>
<tr><td>4</td><td>ExprTuple</td><td>5, 6, 7</td><td><a class="ProveItLink" href="__pv_it/96b715de406ac1217fe654696d37608ed7ec20da0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAAAVBAMAAADvM06qAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAAV5JREFU
KM9jYCAC8F3AJxsHIk6jCC2dIOaAzGc/ACRWoijp//8N1ZgFDAy8qPYs33YAVUkYAwPHBBSRDeiO
mcHA8IoBvxJmB4YyIMWYu9G3FiKy9+4+CIMNiHlagHQBw1IgcxpDUEATRMaSYf4DMOMiSGsbAwPL
AoY+IDOB4T6DD8xk7gYwlcDAycBwFRhsDQz/gNwJDJsRlrP9AQfoAZBDY4CWfQArYWDohTlOgYHt
H9Qp3iCjQEpaQAKMf0DGAgGHAgP7R7B1DAwpDIwJYItMgfxA3g8MN8GK2BkYuBYALWZgPsDzj0EK
yGBdwJAOdPRX5gbGCwzzFYDGFTB4CHB+AlrUW7HjOsgGoKcfMTBw2mamAd0+A2TD8eqNDJz9Agyc
69fM+gXyPtcDBg4BuF8ewtOHAEoEsCbAeQEwBitSBOSiJAZsSjiBiYFBGsbjhYsjpQ9ukJ2MeBPm
HQYGAH6CUF6urHX7AAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>5</td><td>Variable</td><td></td><td><a class="ProveItLink" href="../packages/proveit/__pv_it/530be409e3083890784cf1d7b28c9e67e90af9360/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAJBAMAAAAWSsseAAAAKlBMVEX///9ERETMzMwQEBAiIiKY
mJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAA/vyDhAAAAAXRSTlMAQObYZgAAAENJREFUCNdjYDi9
8sTyBQxsG1hdmR0YuBm4LnAoMLAxcAowgADzAjB1VoEhgYH1wFoGrgSG3gBhhlMMDImrs3cFMAAA
t0YN+iTRa+sAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>6</td><td>Literal</td><td></td><td><a class="ProveItLink" href="__pv_it/084027c5e7faf3e99fe505f569d22a93a32e5b730/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAOBAMAAAAPuiubAAAAMFBMVEX///8iIiJERES6urqIiIjM
zMxUVFRmZmYQEBCqqqp2dnbc3Nzu7u6YmJgyMjIAAADYGhJvAAAAAXRSTlMAQObYZgAAAE1JREFU
CNdj4LvDvZKBgeP//wUMDHxlSxkYGNgYGBCki5sBAwPTAZ7PYG4GmFwfwKAIJA0YGhkY6jcwFDAw
vGNg2M7A2c3AwFqetoEBAKS8EE1WXEJLAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td colspan=4 style="text-align:left"><strong>context:</strong> tutorial</td></tr>
<tr><td>7</td><td>Variable</td><td></td><td><a class="ProveItLink" href="__pv_it/9d7c4e1c5ee4d34a7826567c9ff37cf313ab71e60/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJBAMAAAAbVLtZAAAALVBMVEX///9mZmYyMjJERERUVFS6
urqYmJju7u7c3NyIiIiqqqoQEBDMzMx2dnYAAACcB6guAAAAAXRSTlMAQObYZgAAAExJREFUCNdj
YLjAwMBwegEDZwOQ7r7AwMvAUMDAmcAQw8C+gYHtAFCaywEkCCQWMPQyMNgwnAvgUGdguD1xy07p
BQwMRY+O66kyMAAAM0ARC3HE760AAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
</table>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Furthermore, this expression that we obtained via substitution is equivalent to the one constructed directly:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[65]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expressions, generated in different ways, are the same:&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">nestedOperationFromSub</span> <span class="o">==</span> <span class="n">nestedOperation</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Expressions, generated in different ways, are the same: True
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Operator-substitution/relabeling">Operator substitution/relabeling<a class="anchor-link" href="#Operator-substitution/relabeling">&#182;</a></h3><p>The <em>operator</em> itself may likewise be <em>substituted</em> or <em>relabeled</em>, but with some interesting extra capabilities.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It is straightforward to <em>relabel</em> a <strong>Variable</strong> <em>operator</em> with another <strong>Variable</strong>. Here we relabel the $f$ in $f(x)$ to $g$ to obtain $g(x)$:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[66]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit._common_</span> <span class="k">import</span> <span class="n">g</span>
<span class="n">fx</span><span class="o">.</span><span class="n">relabeled</span><span class="p">({</span><span class="n">f</span><span class="p">:</span><span class="n">g</span><span class="p">})</span> <span class="c1"># Variable operator to a different Variable</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[66]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="../packages/proveit/__pv_it/89d5be7a1c57e84a6e56aa45006f938a851d441b0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAVBAMAAADGNLEtAAAAMFBMVEX///8yMjK6uroiIiLMzMwQ
EBCqqqru7u7c3NxUVFRERER2dnaIiIhmZmaYmJgAAAAgbmjVAAAAAXRSTlMAQObYZgAAAPlJREFU
GNNjYMALmA5AaD4FJEFPGOMKkqA4jMGIEOM5AGPxbYALshbAWOwBcEFFhKZlQPz29CsgeRuIu0+2
nQWaspeBgXcCx1+ggBxQ3wY+O1YDBoZEBob3BQzfgIJBDAzcDDwf2BwYGFQZGCIZWH4ABT8BVTJw
LgCZ6c/A9o2BxwAiCHTCAYggzw8GrgtAVhiI2+/AUADSzveBgT8ByF8HdHXDeQYeoOBDBvbvDPMb
GMDuyH+wlKEHwtQ8cxmkU5mBoep09Z4HQKYQiL8WbEcDkjeZGNi/oQYD9wGG+w2cE1CDrpCBIevM
PQi7EyY4AymQOaAByuPAAADpfDmRy2jJwwAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And it is straightforward to <em>substitute</em> a <strong>Variable</strong> <em>operator</em> with a <strong>Literal</strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[67]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">xFactorial_from_fx</span> <span class="o">=</span> <span class="n">fx</span><span class="o">.</span><span class="n">substituted</span><span class="p">({</span><span class="n">f</span><span class="p">:</span><span class="n">FACTORIAL</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[67]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="xFactorial_from_fx">xFactorial_from_fx:</strong> <a class="ProveItLink" href="__pv_it/f298b6802ab61432aea8682a150b9f30732ed7760/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOBAMAAADUAYG5AAAALVBMVEX///8yMjJERETMzMwQEBAi
IiKYmJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAASYyFDAAAAAXRSTlMAQObYZgAAAGZJREFUCNdj
YAADdicIzcD7DspgfwplMDyEMbwYGO7surljA0MEA/sBtjCWAAYdBh4G7gecBgzLGNgZuBSAak4C
McsGILEZiO8ZMBQwmDOwXdjHwF0A5M9LUGG4DTK5aE/N6QSgpQBu6hcw6Hx/hgAAAABJRU5ErkJg
gg==
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[68]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">xFactorial_from_fx</span><span class="o">.</span><span class="n">exprInfo</span><span class="p">(</span><span class="n">details</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[68]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><th>&nbsp;</th><th>core type</th><th>sub-expressions</th><th>expression</th></tr>
<tr><td>0</td><td>Operation</td><td>operator:&nbsp;1<br>operand:&nbsp;2<br></td><td><a class="ProveItLink" href="__pv_it/f298b6802ab61432aea8682a150b9f30732ed7760/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOBAMAAADUAYG5AAAALVBMVEX///8yMjJERETMzMwQEBAi
IiKYmJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAASYyFDAAAAAXRSTlMAQObYZgAAAGZJREFUCNdj
YAADdicIzcD7DspgfwplMDyEMbwYGO7surljA0MEA/sBtjCWAAYdBh4G7gecBgzLGNgZuBSAak4C
McsGILEZiO8ZMBQwmDOwXdjHwF0A5M9LUGG4DTK5aE/N6QSgpQBu6hcw6Hx/hgAAAABJRU5ErkJg
gg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td colspan=4 style="text-align:left"><strong>class:</strong> tutorial.demo_operations.Factorial</td></tr>
<tr><td>1</td><td>Literal</td><td></td><td><a class="ProveItLink" href="__pv_it/d6af88116966bca28fcbee5fe103a74f1e8a81d50/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAOBAMAAAAYmLtSAAAALVBMVEX////MzMyIiIiqqqqYmJh2
dnZmZmZUVFQyMjIiIiLc3NxEREQQEBDu7u4AAACiA/ybAAAAAXRSTlMAQObYZgAAADBJREFUCNdj
uLOBYd0DhnsTGPgaGHgKGDgTGLgDGNgdGFgNGJgEGBgvMAABUPbOBgD2TQqw6cTpzgAAAABJRU5E
rkJggg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td colspan=4 style="text-align:left"><strong>context:</strong> tutorial</td></tr>
<tr><td>2</td><td>Variable</td><td></td><td><a class="ProveItLink" href="../packages/proveit/__pv_it/530be409e3083890784cf1d7b28c9e67e90af9360/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAJBAMAAAAWSsseAAAAKlBMVEX///9ERETMzMwQEBAiIiKY
mJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAA/vyDhAAAAAXRSTlMAQObYZgAAAENJREFUCNdjYDi9
8sTyBQxsG1hdmR0YuBm4LnAoMLAxcAowgADzAjB1VoEhgYH1wFoGrgSG3gBhhlMMDImrs3cFMAAA
t0YN+iTRa+sAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
</table>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[69]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">xFactorial_from_fx</span> <span class="o">==</span> <span class="n">xFactorial</span> <span class="c1"># Same</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It is able to generate the new <strong>expression</strong> in the appropriate <code>Factorial</code> class via the internal mechanisms that use its <code>_operator_</code> class attribute.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Performing an <em>expression substitution</em> of a <code>Literal</code> <em>operator</em> within an <code>Operation</code> class will typically be blocked because it will not know how to make the new <strong>expression</strong>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[70]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">OperationError</span>
<span class="c1"># But this will typically be prevented (appropriately) in trying to remake a derived Operation class:</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">xFactorial</span><span class="o">.</span><span class="n">substituted</span><span class="p">({</span><span class="n">FACTORIAL</span><span class="p">:</span><span class="n">SUMMATION</span><span class="p">})</span>
    <span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Expecting an OperationError error; should not make it to this point&quot;</span>
<span class="k">except</span> <span class="n">OperationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;EXPECTED ERROR:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>EXPECTED ERROR: An implicit operator may not be changed
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Operation-substitution">Operation substitution<a class="anchor-link" href="#Operation-substitution">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The more interesting and useful case is to <em>substitute</em> the <code>Operation</code> itself. Here we convert $f(x)$ to $x!$ by substituting a <code>Lambda</code> mapping for the function variabe $f$:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[71]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fancy_factorial_map</span> <span class="o">=</span> <span class="n">Lambda</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">Multiply</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">Factorial</span><span class="p">(</span><span class="n">y</span><span class="p">)))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[71]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="fancy_factorial_map">fancy_factorial_map:</strong> <a class="ProveItLink" href="__pv_it/61c4abe679ced9f2556a50214a11fbbcfc9700130/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAAAVCAMAAACQYCvLAAAANlBMVEX///8UFBQNDQ2YmJhUVFQy
MjIQEBBEREQiIiKqqqrMzMyIiIi6urrc3NxmZmZ2dnbu7u4AAACrLjZHAAAAAXRSTlMAQObYZgAA
AWtJREFUSMfNltmSgyAQRUlEVtn+/2eHpVUaSBXwNL6g5p662Bsh5H9fl94Ej2sDUnSd8Yynxap1
9PTrjAmhsMuk3gmlD6KE062SzO+kLZwQ1NU6+RGPE9Jixr8zSDiX0dNZlwMMG8eElPWTLeFoEWKE
qpZOI2x55+LqyJUyqQPoBN4ZrcN3HgVrEDCq3ZCGQ9LkSZQkNjlwPrbz1FRRyb3TIcUPuSENPSAX
jMTNs1Ru4a6570egi4W3P8tthxS/2g1rHGREpU+VKbwqqPHXEVpNg9u5QQZ2SKNVZWdTceinSBs7
a+oSg202yCCYSKP8E8yY/1Q3nI7tFOprDklokFGp9JrY52kHNr66wvEMDlwp6MlBRTfIqBEqzT1V
Cu651jaYqTYHrkVGbf5qYERH2V0GTkwOsddiBsGaPMSoSDdy8tDKDTuDDDQu5Um4t+0nD6AZpNf4
HGkZQzx/0Bo6ifQaajYOE7P75yH3+h9LqxCcLVsAKAAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[72]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fx</span><span class="o">.</span><span class="n">substituted</span><span class="p">({</span><span class="n">f</span><span class="p">:</span><span class="n">fancy_factorial_map</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[72]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/26a10770926a1c253fe9c918ab88d77630e3ab7a0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAAOBAMAAACWQvIuAAAALVBMVEX///8yMjJERETMzMwQEBAi
IiKYmJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAASYyFDAAAAAXRSTlMAQObYZgAAAJ1JREFUGNNj
YMAF2J1wSjHwvsMtx/4UtxzDQyS2MBBfROJ7MTDc2XVzxwYQ+6oBA28wWBQiFMHAfoAtjCUAbHkw
SBpkE0RIh4GHgfsBJ1iI4aotRBtUaBkDOwOXAszVoRA1UKGTQMyyAU0OKrQZiO8ZMBSgmAkVMmdg
u7CPgbsAxS1woXkJKgy3GVD8ABEChkvRnprTCah+hwixOwEAkgMyPFt8phAAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that the operand is still $x$ (not $y$).  This is substituting the <em>operation</em>, not the operand.  If desired, however, it could be substituted simultaneously:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[73]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">omegaFactorial</span> <span class="o">=</span> <span class="n">fx</span><span class="o">.</span><span class="n">substituted</span><span class="p">({</span><span class="n">f</span><span class="p">:</span><span class="n">Lambda</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">Factorial</span><span class="p">(</span><span class="n">y</span><span class="p">)),</span> <span class="n">x</span><span class="p">:</span><span class="n">omega</span><span class="p">})</span>
<span class="n">omegaFactorial</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[73]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/17856ef61df51dccbc9c97ee8f8f57a7620651070/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAOBAMAAADQ9FGEAAAAMFBMVEX///8iIiJmZmYyMjJERERU
VFS6urqYmJju7u7c3NyIiIiqqqoQEBDMzMx2dnYAAACMQNsoAAAAAXRSTlMAQObYZgAAAG1JREFU
CNdjYIAAjiNQBgPnfxiL4yOMxfAZzjrKwPAASN3ZwCDEwDUByJrzgMGPgY+BoYGBq4AhnCGXgeMA
A/sFhtdAZdwBIIm1DEBqA8M8BoYbDL4M9xM4LUDmvFl09JTOBpAdzZ9v2JuBXAAAt+wchvePqAsA
AAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[74]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">omegaFactorial</span><span class="o">.</span><span class="n">exprInfo</span><span class="p">(</span><span class="n">details</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[74]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><th>&nbsp;</th><th>core type</th><th>sub-expressions</th><th>expression</th></tr>
<tr><td>0</td><td>Operation</td><td>operator:&nbsp;1<br>operand:&nbsp;2<br></td><td><a class="ProveItLink" href="__pv_it/17856ef61df51dccbc9c97ee8f8f57a7620651070/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAOBAMAAADQ9FGEAAAAMFBMVEX///8iIiJmZmYyMjJERERU
VFS6urqYmJju7u7c3NyIiIiqqqoQEBDMzMx2dnYAAACMQNsoAAAAAXRSTlMAQObYZgAAAG1JREFU
CNdjYIAAjiNQBgPnfxiL4yOMxfAZzjrKwPAASN3ZwCDEwDUByJrzgMGPgY+BoYGBq4AhnCGXgeMA
A/sFhtdAZdwBIIm1DEBqA8M8BoYbDL4M9xM4LUDmvFl09JTOBpAdzZ9v2JuBXAAAt+wchvePqAsA
AAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td colspan=4 style="text-align:left"><strong>class:</strong> tutorial.demo_operations.Factorial</td></tr>
<tr><td>1</td><td>Literal</td><td></td><td><a class="ProveItLink" href="__pv_it/d6af88116966bca28fcbee5fe103a74f1e8a81d50/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAOBAMAAAAYmLtSAAAALVBMVEX////MzMyIiIiqqqqYmJh2
dnZmZmZUVFQyMjIiIiLc3NxEREQQEBDu7u4AAACiA/ybAAAAAXRSTlMAQObYZgAAADBJREFUCNdj
uLOBYd0DhnsTGPgaGHgKGDgTGLgDGNgdGFgNGJgEGBgvMAABUPbOBgD2TQqw6cTpzgAAAABJRU5E
rkJggg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td colspan=4 style="text-align:left"><strong>context:</strong> tutorial</td></tr>
<tr><td>2</td><td>Variable</td><td></td><td><a class="ProveItLink" href="__pv_it/9d7c4e1c5ee4d34a7826567c9ff37cf313ab71e60/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJBAMAAAAbVLtZAAAALVBMVEX///9mZmYyMjJERERUVFS6
urqYmJju7u7c3NyIiIiqqqoQEBDMzMx2dnYAAACcB6guAAAAAXRSTlMAQObYZgAAAExJREFUCNdj
YLjAwMBwegEDZwOQ7r7AwMvAUMDAmcAQw8C+gYHtAFCaywEkCCQWMPQyMNgwnAvgUGdguD1xy07p
BQwMRY+O66kyMAAAM0ARC3HE760AAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
</table>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that by substituting $f$ with a <code>Lambda</code> expression, the entire <code>Operation</code> is substituted, not just the <em>operator</em>.  This is why <code>Lambda</code> <em>operator</em>s are not allowed (only <code>Label</code> operators); otherwise, such a substitution could be ambiguous or confusing (should it substitute the <code>Operation</code> or substitute the <em>operator</em> with the <code>Lambda</code> expression?).  This also highlights the fact that <strong>Prove-It</strong> is not a functional programming or lambda calculus.  Rather, <strong>Prove-It</strong> is designed for manipulating expressions as desired, and <em>operation substitution</em> is a useful and powerful, yet relatively straightforward tool for doing so.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Mocking-up-Lambda-operators">Mocking up <strong>Lambda</strong> operators<a class="anchor-link" href="#Mocking-up-Lambda-operators">&#182;</a></h3><p>It would not be consistent with the <strong>Prove-It</strong> philosophy of <em>freedom of expression</em> to completely disallow expressions involving a <code>Lambda</code> function applied to operand(s).  While having a <code>Lambda</code> <em>operator</em> for an <code>Operation</code> is not allowed, we are free to make an <code>Operation</code> class whose <em>operands</em> are the <code>Lambda</code> function as well as the operand on which we wish to apply the function. As a demonstration, we define such an <code>Operation</code>, called <code>LambdaApplication</code>, in <a href="demo_lambda_app_operation.py">demo_lambda_app_operation.py</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[75]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># %load demo_lambda_app_operation</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Module that defines a LambdaApplication Operation</span>
<span class="sd">class for demonstration purposes in this tutorial.</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">Operation</span><span class="p">,</span> <span class="n">Literal</span><span class="p">,</span> <span class="n">NamedExprs</span>

<span class="k">class</span> <span class="nc">LambdaApplication</span><span class="p">(</span><span class="n">Operation</span><span class="p">):</span>
    <span class="n">_operator_</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">(</span><span class="s1">&#39;LAMBDA_APPLICATION&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;{\rm LAMBDA\_APPLICATION}&#39;</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lambdaFn</span><span class="p">,</span> <span class="n">operand</span><span class="p">):</span>
        <span class="n">Operation</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">LambdaApplication</span><span class="o">.</span><span class="n">_operator_</span><span class="p">,</span> <span class="n">NamedExprs</span><span class="p">([(</span><span class="s1">&#39;lambdaFn&#39;</span><span class="p">,</span><span class="n">lambdaFn</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;operand&#39;</span><span class="p">,</span><span class="n">operand</span><span class="p">)]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lambdaFn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="s1">&#39;lambdaFn&#39;</span><span class="p">]</span> <span class="c1"># The Lambda function operand</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lambdaOperand</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operands</span><span class="p">[</span><span class="s1">&#39;operand&#39;</span><span class="p">]</span> <span class="c1"># The operand of the Lambda function</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">extractInitArgValue</span><span class="p">(</span><span class="n">operationClass</span><span class="p">,</span> <span class="n">argName</span><span class="p">,</span> <span class="n">operator</span><span class="p">,</span> <span class="n">operand</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Given a name of one of the arguments of the __init__ method,</span>
<span class="sd">        return the corresponding value as determined by the operator and</span>
<span class="sd">        operand of the LambdaApplication Operation.</span>
<span class="sd">        (This is important so that Prove-It knows how to &#39;make&#39; an altered</span>
<span class="sd">        copy of this Operation).</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">operand</span><span class="p">,</span> <span class="n">NamedExprs</span><span class="p">),</span> <span class="s2">&quot;Expecting LambdaApplication operand to be a NamedExprs object&quot;</span>
        <span class="k">if</span> <span class="n">argName</span><span class="o">==</span><span class="s1">&#39;lambdaFn&#39;</span><span class="p">:</span> 
            <span class="k">return</span> <span class="n">operand</span><span class="p">[</span><span class="s1">&#39;lambdaFn&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">argName</span><span class="o">==</span><span class="s1">&#39;operand&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">operand</span><span class="p">[</span><span class="s1">&#39;operand&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="c1"># should accept kwargs even when not used (e.g., &#39;fence&#39;)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lambdaFn</span><span class="o">.</span><span class="n">string</span><span class="p">(</span><span class="n">fence</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">lambdaOperand</span><span class="o">.</span><span class="n">string</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span>
    
    <span class="k">def</span> <span class="nf">latex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="c1"># should accept kwargs even when not used (e.g., &#39;fence&#39;)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lambdaFn</span><span class="o">.</span><span class="n">latex</span><span class="p">(</span><span class="n">fence</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">lambdaOperand</span><span class="o">.</span><span class="n">latex</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[76]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">demo_lambda_app_operation</span> <span class="k">import</span> <span class="n">LambdaApplication</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[77]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lambdaAppExpr</span> <span class="o">=</span> <span class="n">LambdaApplication</span><span class="p">(</span><span class="n">Lambda</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">Factorial</span><span class="p">(</span><span class="n">y</span><span class="p">)),</span> <span class="n">x</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[77]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="lambdaAppExpr">lambdaAppExpr:</strong> <a class="ProveItLink" href="__pv_it/ea69319740ece1b99b3f7ca7398eddbe4b49d0f40/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAAAVCAMAAABlnqB7AAAANlBMVEX///8UFBQNDQ2YmJhUVFQQ
EBBERESqqqrc3NxmZmbu7u66urp2dnbMzMwyMjIiIiKIiIgAAAD6r9qQAAAAAXRSTlMAQObYZgAA
AYhJREFUSMe9ldl2hCAMhmnZIUB4/5etLApBnXrqOeVqHD7yZyGBsX9YmGJ4c57H5MeXx2W37oH/
s3kn1WIhiJWx4Z2GyXnRiO4ExZdx5EQ1EC9yCa80WI5UQ7qrhL7TkIJo+HgFKd0IBxZqgt2UxbG0
nvya0GSJRt0oe4DCaLQtc2AbAcyX8mHeLSXqixhJmFEFRCPy7sVWhcSZbEZ0rETQzJY/lLrRcMLs
t3NGBSca0ncvmgu69Z2Xldi8lCWwfNyL769ElszdEEFBE43OlJiFGj2TO6FLekMON3EwMW7GhGK4
0qgh4VnDliKjZDca1ky/BxoczZUe3Rl6QEeutnKVG6LEjUaYe2tFh4ZqNeem3Qh0faDtcWxnfOZj
UtKSk5gOdO1zsC2XnKktTIOM3F3mFKLN5tEEOdB1JvrU98EB4O5w9FOfQ3rc4ASdZon5MEtEKh/6
ifkzOjQ4XLiDnUiwN+2v64x+nO3umO16S/HD2XhGJw1zeqPqgMCUXr212/lJ0iwvSO3SHytqEh4e
1DOwAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that the <code>_operator_</code> of the <code>LambdaApplication</code> is not displayed but is implicit in the context of the lambda application formatting.  Also, we made use of <code>NamedExprs</code> which will be discussed next.  Let us take a look at the expression information.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[78]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lambdaAppExpr</span><span class="o">.</span><span class="n">exprInfo</span><span class="p">(</span><span class="n">details</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[78]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><th>&nbsp;</th><th>core type</th><th>sub-expressions</th><th>expression</th></tr>
<tr><td>0</td><td>Operation</td><td>operator:&nbsp;1<br>operands:&nbsp;2<br></td><td><a class="ProveItLink" href="__pv_it/ea69319740ece1b99b3f7ca7398eddbe4b49d0f40/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAAAVCAMAAABlnqB7AAAANlBMVEX///8UFBQNDQ2YmJhUVFQQ
EBBERESqqqrc3NxmZmbu7u66urp2dnbMzMwyMjIiIiKIiIgAAAD6r9qQAAAAAXRSTlMAQObYZgAA
AYhJREFUSMe9ldl2hCAMhmnZIUB4/5etLApBnXrqOeVqHD7yZyGBsX9YmGJ4c57H5MeXx2W37oH/
s3kn1WIhiJWx4Z2GyXnRiO4ExZdx5EQ1EC9yCa80WI5UQ7qrhL7TkIJo+HgFKd0IBxZqgt2UxbG0
nvya0GSJRt0oe4DCaLQtc2AbAcyX8mHeLSXqixhJmFEFRCPy7sVWhcSZbEZ0rETQzJY/lLrRcMLs
t3NGBSca0ncvmgu69Z2Xldi8lCWwfNyL769ElszdEEFBE43OlJiFGj2TO6FLekMON3EwMW7GhGK4
0qgh4VnDliKjZDca1ky/BxoczZUe3Rl6QEeutnKVG6LEjUaYe2tFh4ZqNeem3Qh0faDtcWxnfOZj
UtKSk5gOdO1zsC2XnKktTIOM3F3mFKLN5tEEOdB1JvrU98EB4O5w9FOfQ3rc4ASdZon5MEtEKh/6
ifkzOjQ4XLiDnUiwN+2v64x+nO3umO16S/HD2XhGJw1zeqPqgMCUXr212/lJ0iwvSO3SHytqEh4e
1DOwAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td colspan=4 style="text-align:left"><strong>class:</strong> tutorial.demo_lambda_app_operation.LambdaApplication</td></tr>
<tr><td>1</td><td>Literal</td><td></td><td><a class="ProveItLink" href="__pv_it/b972b254f0859e9da344ee20375eddf3388d76660/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAAQBAMAAADXIZ9kAAAAMFBMVEX///+qqqqIiIiYmJi6uroQ
EBAiIiJERETu7u52dnbMzMxUVFQyMjJmZmbc3NwAAAD+VqVwAAAAAXRSTlMAQObYZgAAAyRJREFU
OMvFlV9IU3EUx8/u3Lr36m6DXnrz4kMIEa63wMC9+BTiggLByr1GyfYSKQm7L+JDgnuKpNA9FhHz
JSNmbkUQEbG9BAmlexdZTufc3Lyd35/zu0p798B+57ff93fO5/7+A5yh7RSPNkXtC/6sNZdVA631
7eJ4bu0XNtRyuW8O6dJ6oliwHjM2OZHH/O1uAPgff7SfUsjEk9WDXCr+tthOg355ccMB833Nge6J
SYDsishnHbFST0WwHDwEqJQAihnebNxSurDKiiz1h8qJPCb2Mh84sD1DIfdA2wMrxvXhCPhuYocU
1ufBYxsuG51+qYDlFcnOFkT8cpl0YcuH9AVDJXIem9X0OzKlXmJsWGGtZhUbe6NgDu4ChE6wzy2z
Eet9TUwwItkLMcE+XyBd2PQesbMxch47wT7yukxpRTi7n+nBGFuvMTCv3XZOsV9X2Ij1/jaAFpLs
3pJgdzdJ52YutRQ7Tk6xfXxx5mVKK8PZr5jem8ZGrQpmZDR5ir0ZPGZsO497RbLNcblmRpV0bqFy
okxzbpNT7G4+KZpKydmck2cz19VCdmjvFDupVTl7NAwXOftz3zNbsrU26WJ5YMAWbPOucood3KV+
MkSxE+x4mDVkQ6J8gu2L6AecHSyATXP+Tuxz8B+Rzu0CLMQZ+/7in4xy/7MpxGOHFTtbILaFY3HY
iUK2dmxFiR0Yk+NukM5tCnqajJ0UB044kUfNOaiUHpufXx+bc1xFYhsAs7lcscTYesMPxMY0Yq/t
k87vALx12h3ZhrfXvJQee4hNjdFgbEjsyBj8hqt4kmKMDY88dqgq2IE46cz8OHW1juyQd8YMldJj
B/6iDx5ydmVSxszhvsDIXc4eXVfsQFOwBzKki60GsBXuxJ5Tdws8Vyk9dleD5QpztlYXbfp36ML+
Jv41SxBIKvZWmrO1faUzu8Gikh3YmIfuVCPqhSg2DNvgxzvVx875V4A3ifFcqmGm6g68dKetfCti
hLV8a5M9EaufxFvywyEdXNetu1NgFOvpnWLb5o8RdzIPvSVLoEJGftbwHIi35MXiB4cpOGvbZ/mC
wj9cPLyHYckQpwAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td colspan=4 style="text-align:left"><strong>context:</strong> tutorial</td></tr>
<tr><td>2</td><td>NamedExprs</td><td>lambdaFn: 3<br>operand: 4<br></td><td><a class="ProveItLink" href="__pv_it/d02eb9893db949c88d9d38f1d0d29ee34d9e51e10/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOQAAAAyCAMAAAB77oeNAAAANlBMVEX///8UFBQNDQ0QEBAyMjK6
urp2dnYiIiLMzMyIiIiYmJjc3NxERESqqqpUVFRmZmbu7u4AAABG+8EjAAAAAXRSTlMAQObYZgAA
BEtJREFUaN7lmtmCqygQhpkBgZL9/V/2UKCkcEnS7RhzHK66DZR8Qi38ytjUYvDsVk0Lt7zkkjX3
gmQjt7G/kODnj2pYPJaoh/jrKYES+hCSUMPiUlSKzkensELwQj5nDMtBzibXm1Ap+dxESi/p5fBr
vsjttgWTLPnPbk1CvXJStXwyMS3cQKdqw3B9IqRJaceCTOS+HXEjfwUp3oZkoztzJZPasaCTJL38
yZARToRkSexYiMSjToZEV5BnQnK/C+nfghwBAs5QWx40gAXmAGoKEiH/6McpzUqAoULOQ2bIsUTh
h4FFwHhARlnGmRYhRB/Y6COkfWtw+D2kU3mGodxM2BG7So1ZtVzgZu5mON4BCiQZUiHnDDwZGBa+
9ICUbEjFTAtt/Yw8CY+0r5XHIEeMT0MqNLzsf18mj1FL+BrbHM6//UmH6MR9ziMT5GSALGW/XbVj
AbGs3YGMvmXmrm/dTQe2Kxsk1Ehc713mSCER29SZm8kn25C6kvPUiIFNn8zMHLoe//6jusbbNuj6
SncM0oi8R/RTSC7yuo0PSDKE+uRrSHSDOBvfWknmB1qItr6gj0EKUZlifHslyRDdGX4NWTwZONuB
DLSOJH11PAQZy5Rc0oPeg9S4hdTDPemQn0KWpERSVw+pYZXAaJr7/UqWFJQdzJkNSFHiUWgXQllJ
MuQ55Cq6MjzuTVu/Vu39lPtlbX33K55XkNrn4towYwNAlALK/zrX4DwwEAmrdxsxT9ZYY3zJk5ix
2hATcmXu5z1GDezkSRZtTrHpvTPfo+9ugf7GSn62tSlK9YNBih3crp+H9AqXxb3Vf933BaRZHycv
gVRyrl5et3XfreqXQI7JfQVkrorDu3X6uu8WpCDpSF3OyEApfXD8BqRry9edn2/WPDcT48Du2yxS
RnE7LXKpTAIzysdbQzqFdVPgd96uYRIKTws8h9Tm/4ixFYlnpZCl2vz5Rqr98az4Gq+GFImUdfKm
kEQ1j2fVrldDfuQU8v2QJp99Q57kILgcpZxVYR1Aeo1XwUmMz2v5udgkavPqhGwkeOMgwNWQurzc
8zh9VUqjquM4VYIW6tZ+QAFrLT9jFKNq80rriNnoqEbG1dWQXNaYpGfFqlb0Re1kWEUIVWSXtfwM
rFebVwqNZFX6dvpiyHmnYUx6aI+ZNIy5oWbd3vdsyM8LtXl5b9wi9gt8cs6d+FpshhTd+XqC3JSf
O7V5s3H4Asj5uIk/kZUkJcQEuSk/P1/J2Q1Y/A6fLNLx7JO4tjVI4kvVCrkjPxO1eeP0Y+rbKLgc
cuBNOhY1uobqq4gqY1vJZ/Jz2IyuLu8GjFEGrt6uqAZLWV+KCf9QkZnxQUrDBp94ubQpP3dq8zJP
RgsySgnjV1U84m/9WOt/Ahk2i/VbQdJPXLY/VmoRKHtf+DvFLqAHZf0F7wnO2K1c9MhwQ0bFl59J
3k6ZdFwskcxHKuZPBh3V8vAf4LFDvMaw/noAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>3</td><td>Lambda</td><td>parameter:&nbsp;7<br>body:&nbsp;5<br></td><td><a class="ProveItLink" href="__pv_it/6416a795026847564c8dd831a4e74090b86f10750/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAASCAMAAAA9mj1BAAAANlBMVEX///8UFBQNDQ2YmJhUVFQy
MjIQEBBEREQiIiKqqqrMzMyIiIi6urrc3NxmZmZ2dnbu7u4AAACrLjZHAAAAAXRSTlMAQObYZgAA
AMhJREFUOMudktkOxCAIRZmpdUNR/v9nR9qxLumDkYcGmnPxQgDYi6zNphIi8640s92VAp/bUq3K
04nSZT7f/8ZuzvUuO9QSQIIgE2Mde5pB5Zb3qEngHZDQxrxLs4o1HVB1QGmqUcbGP/D92CE0h9ql
R5NM4sS6Z//+KqjQTd5QlA/JYlDDu5RiXzTUyw5OEv/qXeqxryYUqKSBj1riuKXRwoPe15QNInFc
Or8Hbeef1i+yQ5WVHm5FNaM2XaexEjPqiv2w5nVEfyVpCI/cxazrAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>4</td><td>Variable</td><td></td><td><a class="ProveItLink" href="../packages/proveit/__pv_it/530be409e3083890784cf1d7b28c9e67e90af9360/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAJBAMAAAAWSsseAAAAKlBMVEX///9ERETMzMwQEBAiIiKY
mJju7u5mZmaqqqpUVFSIiIh2dnbc3NwAAAA/vyDhAAAAAXRSTlMAQObYZgAAAENJREFUCNdjYDi9
8sTyBQxsG1hdmR0YuBm4LnAoMLAxcAowgADzAjB1VoEhgYH1wFoGrgSG3gBhhlMMDImrs3cFMAAA
t0YN+iTRa+sAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td>5</td><td>Operation</td><td>operator:&nbsp;6<br>operand:&nbsp;7<br></td><td><a class="ProveItLink" href="__pv_it/26a0e35b392fe0647ba3a0907c7e4dd1d46cdbc60/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAASBAMAAAB2sJk8AAAAMFBMVEX///+YmJhUVFQyMjIQEBBE
REQiIiKqqqrMzMyIiIi6urrc3NxmZmZ2dnbu7u4AAADXeCicAAAAAXRSTlMAQObYZgAAAH5JREFU
CNdjYACDJwEQmmH/ByjjfQKUwW8AZbAoMPDducCw/wHbAQZerg8M8xlYLzC08yQwhDIwCTA8YJnA
8JOBt4CBof4Bxw8GzgYGhsMMnA4MHA8YGGwYWBXARhxiWC8ANvnpzPMboJZeA8swJfC5gxlsF4Cm
ggD7zFNgGgDXOyBURHxQQwAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td colspan=4 style="text-align:left"><strong>class:</strong> tutorial.demo_operations.Factorial</td></tr>
<tr><td>6</td><td>Literal</td><td></td><td><a class="ProveItLink" href="__pv_it/d6af88116966bca28fcbee5fe103a74f1e8a81d50/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAOBAMAAAAYmLtSAAAALVBMVEX////MzMyIiIiqqqqYmJh2
dnZmZmZUVFQyMjIiIiLc3NxEREQQEBDu7u4AAACiA/ybAAAAAXRSTlMAQObYZgAAADBJREFUCNdj
uLOBYd0DhnsTGPgaGHgKGDgTGLgDGNgdGFgNGJgEGBgvMAABUPbOBgD2TQqw6cTpzgAAAABJRU5E
rkJggg==
" style="display:inline;vertical-align:middle;" /></a></td></tr>
<tr><td colspan=4 style="text-align:left"><strong>context:</strong> tutorial</td></tr>
<tr><td>7</td><td>Variable</td><td></td><td><a class="ProveItLink" href="../packages/proveit/__pv_it/f8b9edf8e16034727f0aad55bb83e392c3db40d40/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANBAMAAACN24kIAAAAMFBMVEX///+YmJhUVFQyMjIQEBBE
REQiIiKqqqrMzMyIiIi6urrc3NxmZmZ2dnbu7u4AAADXeCicAAAAAXRSTlMAQObYZgAAAFhJREFU
CNdj4LtzgWH/AwZerg8M8xkY2nkSGEIZGB6wTGD4ycDAUP+A4weQOszA6QCkbBhYFYDUIYb1AkDq
6czzGxhA4BoQMyXwuQMptgusF4AU+8xTQBIAUqMVoSp/SLMAAAAASUVORK5CYII=
" style="display:inline;vertical-align:middle;" /></a></td></tr>
</table>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Axioms</strong> could then be created to define how the <code>LambdaApplication</code> <strong>operation</strong> actually operates, but <strong>axioms</strong> will be discussed in a later chapter.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="NamedExprs">NamedExprs<a class="anchor-link" href="#NamedExprs">&#182;</a></h1><p><code>NamedExprs</code> is a composite <strong>expression</strong> that maps string keywords to sub-<strong>expressions</strong>.  The reason that this may be desired is to be explicit in the internal representation about the role of each sub-<strong>expression</strong> so there is no ambiguity between the internal and external representation.  A good example is the <code>lambdaAppExpr</code> $[y \mapsto y!](x)$ defined above, where one <em>operand</em> plays the role of the lambda function and the other <em>operand</em> plays the role of the lambda function's operand.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here is a more rudimentary demonstration of using <strong>NamedExpressions</strong>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[79]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">NamedExprs</span>
<span class="n">NamedExprs</span><span class="p">([(</span><span class="s1">&#39;left&#39;</span><span class="p">,</span><span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;right&#39;</span><span class="p">,</span><span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">,</span><span class="n">Multiply</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[79]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/2fb13b91e298881dd60e61c00e83cb667d95e6960/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMsAAABLCAMAAADplYPZAAAAPFBMVEX///9jY2N/f392dnYyMjKq
qqoNDQ0dHR2YmJiIiIhmZmZERETc3Ny6uroQEBDMzMwiIiJUVFTu7u4AAAAkkAi0AAAAAXRSTlMA
QObYZgAABTZJREFUaN7tm2uDmyoQhmkHerhf//9/PdwSQSFx3caaNn7YXVk1PA4zw7wQhG6Hdxa9
30E12TYarc0bsiAX+LpJBS0Rek8Y1zd4HdTaUA5D30IcYH89GBtYdy7WcPmivk1pTwJB6mosJgTZ
nw6cRfQsLp5Gs/DLGQZ3LsPDKIYNWGLguB4LC6Ebcm4ni9LXY+lHVVi5T8tiOANnYijQ2jnqgnWO
NDFD3P+WwJwkjLOzWXwIdBcLsTliR0dxuduW94+5D04fox61FOnzU27X/QcsOv/HsjELWmI05JEb
4c1VWUjgNB6OTlh6Kif+iMPsZKHh7hxPWNDdiFdlUYtbLSyzHsscT/x1/SUT+M5fYDhjldldELsu
i8oTNYgdFJmF45ZliWMkGlDoaBt2wTFmXAguTnSk4wAy/oqncbx54UAO8osXDDwAo9f0l7c5uu7/
94u+M0vX/b/JLh+WD8uH5cPyYfmwnM5iQjcvNgLDhVli8U/mV6qVYus7DfAK0p9u3rbqlb9R9bvV
Z+pxBYkJN5IYC/ort7Ysl5D+2v7bh64vjZmyXEP684vYp4ZmUVgzAtrIuihAHOOMMZtYDGMi4ffS
Xyv8eeCQFYBTKma4DzI88XzrlEwWq7WyzzJZ7KHAqb4sixytLNMIf/EylYv/cI5lbDUMzEYYtsXv
M4tI/eTZgCL/LHd1EtNiA0MQTzeIkwQzqa1/hIIwb/wjr2aWJc3SwQFLR5W1stNysLTYIxqmmmnH
YuJ1vix07mBJuowvN511CByBhN/DIhkwKD1bswzffdKeENOnobAkSnpr5Q4WuiT4NQtMbxbuLBRe
4pcM1j9nUcIYIzcsrfTXxjHEewH35UEZbuYZvT7lgk6pI2t+KR6HdPBybogIOU220l+bX5L2x3g4
aZ1dLW8xhKczRI/TJV7Zr8yR4axlJdso+OFpGqD1CrIzYaTo7TU5yyyhiZ9P07O0NYbt9IBkPwGn
OT5eOrpnkAEwBnxvviDRW04rbWxTYfULsZ96/8PyYfmw/Ess3qhjRbA68IFUvZQlTssO5XZzaAI9
y26/aYz5hyrhXNE6Zk28i+XnK1imehM7+OooTFh+tic/XsAy1wH1QaXJ6wnLj983xqQyOQ505cpc
B1R4NoaqQ8jZBYIc8heFNVCArOnddL/4KTxOGssDPY+zTZVYJKSiIRZv+Sl5owZ5oAMiXofKZidg
nY3fJuVlTtuKhsAP+r5N26+rql91P5PLaZefrlWuSdfSjElzbpO4ZzogwrR2c7MTMFO0KCvRkOCD
LLhor7m3VffTUGqE+GFYlD/XLLk9K1UTHTA+RdVubncCRo4OZSUaKv0tFpTVgKJjqOrpsV6QdUCt
WeSyFjLVzmq1NNwJKG2LshYNTfgmC76z0NqL2FQ1lg1Lo708Y8kmYo9ZVqLht1kWu5CbXdzULqa3
yzA+LjrAZifgeoytRMNvjjGS32LVyoq/ZPcuMaFlKXi2uCd9oANW0WCwE3Dr+71oSA/7foljvNH9
VP5mieDoZvaqF6ZlGUR1aU8tTD7QAaEaebMTcBCTe9FwV0yGoV0oYzlD3HS/NCkEcOXB0uX8Ulh5
zDvS5pWDmF+K8jzVAZWtauB6J+AoV3aiIVbDfN1OPvBQucQvU4O/+r2hm2g4nsP0S8fjxdfXsdD9
ylknGsIwlED3LZHxAv/rWL4w529FQz+epune2yFsLks+wl+lbcvdr6kVDd2wO3Q9qPDJFf+Rbcxs
WFbKzXeqvA0EveMx6rgXAd4QxWg9CtPkHVkULFHkf1BTUmz/aGGrAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To produce a <code>NamedExprs</code> object, you must supply a list of (keyword, <code>Expression</code>) pairs.  The keywords must be strings, but can be any string desired.  When the <strong>NamedExprs</strong> is displayed, it will show each of these pairs in the order that they were originally provided.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="ExprTuple"><a name="ExprTuple" />ExprTuple<a class="anchor-link" href="#ExprTuple">&#182;</a></h1><p>We have seen examples of <code>ExprTuple</code>s above.  On its own, it is simple.  It becomes more interesting when we discuss <code>Iter</code>s below.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[80]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">proveit</span> <span class="k">import</span> <span class="n">ExprTuple</span>
<span class="n">xy</span> <span class="o">=</span> <span class="n">ExprTuple</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[80]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="xy">xy:</strong> <a class="ProveItLink" href="__pv_it/09912770ce2e9f38355b68491a61d87f8a42e8820/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAVBAMAAADP3xFXAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAAQtJREFU
GNNjYMAB+C6gi7A+ABKnMVXWAPFKTGEuBgbeC5jCrAkMHBMwhTkbGF5hc4YJQxmQFLstch1i1rQy
BsafDAzpDEuBehJYVTkUwMIJ7xl4PzAweDH0MTCwAZksB0CiPA5FDMwGDAwvGP4BVTNwG0DtYuhl
4Acadx4kzMDAAXMly0+G8wdAwi0gnvwBBog72Rcw3GAAGWIKdL3AfQbeCWAJrgIGayAVBXQLg3+A
BYMsA+cnkOoNfF8ZQA58xMAw+dq03AAGzn4BoJ221z8ChdcxcAjAQxjMYlMAex4YLLAAAuJNDDMc
gFIXkAIWJKzGYAYkZwGxNEwY5Hbf66CY2QjEjBgBznuAAQAt5DtyKXSr1gAAAABJRU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[81]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">xyz</span> <span class="o">=</span> <span class="n">ExprTuple</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[81]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<strong id="xyz">xyz:</strong> <a class="ProveItLink" href="__pv_it/7aa19ce438477f7d17aecded0ee3c81375181b1d0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAVBAMAAAAEBPWpAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAAT1JREFU
KM9jYCAI+C7glmN9ACRO49NdA8Qr8SngYmDgvYBPAWsCA8cEfAo4Gxhe4feCCUMZkBS7LXIdYtO0
MgbGnxCpF32MQLF0hqVAcxJYVTkUwKIJ7xl4P4BZjKbXi4GUF0MfAwMbUJDlAEiUx6GIgdkAYjsD
506QOQz/QGxuA6ibGHoZ+GHekgYR50EKGBg4YIIsPxnOH4CGcAFEQQuIkj/AAPEt+wKGG1C1bhCn
MpgCQ0PgPgPvBLASrgIGawYwiyWBgRtIRQH9weAfYMEgy8D5CWTCBr6vENap8NB1DCBvPmJgmHxt
Wm4AA2e/ANCVttc/QlgFrD8cgArWMXAIwOMdzGJTgLGgQQ2MDljEAPEmhhkOEBYEsF1Aim6QsBqD
GQOyglmw8AABUFj4Xn8AZUHARlCg40kQvAcYAIc5SE6AwGiIAAAAAElFTkSuQmCC
" style="display:inline;vertical-align:middle;" /></a><br>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Substitution is straightforward:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[82]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fancyList</span> <span class="o">=</span> <span class="n">xyz</span><span class="o">.</span><span class="n">substituted</span><span class="p">({</span><span class="n">z</span><span class="p">:</span><span class="n">nestedOperation</span><span class="p">})</span>
<span class="n">fancyList</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[82]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/9ddd9d0945cc56449b04f36d86f6ec098ed73fa30/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKIAAAAVBAMAAAA3EyjlAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAAmpJREFU
OMutVE1oE0EU/oYkm2zbTUOQIEoxCOqlhx5UFBVyFLEYPXjoaQ9i9VAIHoqghfhzkVK7IBTpxVyK
FKRuFL0p8aTFQ3LRKFq6eBJRtEKFlpL65s1ukpXMYcGB3e/Nmzffe2/emwH+/0g3NAs/orAkvA68
1dgMuL20C06u0NP8OmDeYsCihrHP6aWd3f6jMQfENoOlS3qlp/bh85ombRvmb4aUo2G801Pr6g7S
LAObDN90Bat0p0SBiUo34yP6doU2HASmGSbpn/u0o6mSn5uE2GApaRPJRHV0Sk7EMJDldF+svORl
mkklDbLDG6rWOHAAEhYoUjuxL5VXyz9h/VJhFYkf54o3fQJ//1E88HwfyoWVod9Ooj0FHIaEu4BB
LHFeHihcQWyEt6Y86X4Vp6EIskFF+svKxyvlwgAcWOT+K/AMEloUI/pH/OPFDAZV/oOeNH0anFJ2
OJCMLeVjr3LxXRYjQXIduAAJLQ4oaKH4Buq1NiPIQZgxlofRCjHaiLsyUMn4meG2VO+pQTVRsoIP
iiIlr4bYorC7s6bjTq6Fsia6AnKcLpYZDlFXZlZhOczZV8IxsBSjozlLVfoYqkySTCqhyhxH3RPy
3o2pSMZk0c8Uj2CIOx5JN72uJKOE+HqsLBqh7hElnMyEuudSc3rmaoHbhveN4wtw7/3cRBHmLJma
J5prSkrnaXL54rt/Ovz1tWq4w+c3lx8vSWGJXwqCVKZ9S1gy8r50I9qjaJYDSNjtu07fE9wvKAnn
ozEajTYsdjPu575P6F8z7ZjvwO5AJ52MNj1fgnAjMVY7IHQP5FAUQqsWwF+4EqK+aoBkJAAAAABJ
RU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[83]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Let&#39;s keep it up</span>
<span class="n">fancierList</span> <span class="o">=</span> <span class="n">fancyList</span><span class="o">.</span><span class="n">substituted</span><span class="p">({</span><span class="n">x</span><span class="p">:</span><span class="n">nestedOperation</span><span class="p">})</span>
<span class="n">fancierList</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[83]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/0045d6045e526d6ce49eeaf82278d665584df5dc0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWQAAAAVBAMAAACDPInDAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAA05JREFU
SMfVVk1oE0EU/rZJNrtNNoYiVSrSIIiXHsQ/FDzkKHpoToIisohQDxZ70mJFqxYvpXWhIKGX5lKk
Utp4UAqirCBo8dB40B7a0OhJimD04KHUxjczm3Sn+bHJxoMDb/bl5Zvvzcyb92aA/7BFMkK23y7+
Y6Ja2ECOuveOlLXWc8rliqODNpA8WGZuDtGk1R6vhtXvA7dIn3KkrGmFgll5xSmgM19mbQ7Rw8Kv
qlilQOsHjIyQCpszcLVKkM4CE7GtxiYRPX5uV8XqP+lkmNAscClvoarnKgnsSJXtZXOI0jWwWKNp
D2KVtFX3X9MkHW5PrbRsRSL2xaGVUXsiKmFLU960bGIxTN8juE49k/alnYs8rG02lC7uKbvE0pP/
auPRUknCQ/TtQ0sf59F7THSKrfVEVMLiZfYVZAvLg3dxhsUBUnswybKUfJuB/VrMIRa8PkvfcEY7
gz+wvx8A/hR8IqHUSB4rTqp7ISphcQITOcliRKnbbTIsjpF6GqPUj7J1G3m/GNT2uqsYjDmI0Q6d
CR34SNV3EKEEt7wJxnBYYL0RubChQclCEbFgJBgWz+j3V7D1k+gIFQuksq+Us9cc32JwxGY5cIFi
mocqiqelZfBbYL0RubDqumT5xjIuYDMsWHlfKHqibM9s8XSIPOXcnmi9Z/jRotGG46HbCq9LU26Q
qIj1xaBuSBY6Emk2gk15mU+ZkoALOm1YUkTuAXei7niG2DIVk8cz7JSzmzBEHD0SFbGUBsEfkiXN
AtHOsZjnB+Mo9SSB6AoMSzr3lKFPpKzx2eENdBAowCuVzis/fGmhNU7kxgapFqYky0ks5JSpTex5
qhmsbqA7cRx75eqyC/67Um1SR/rnFtlGUr2hS4vfWwP4nhBa40RurNKHU1HJcmVxeKQ/zrHs9iMf
X6gnGfv0qDch1/DwjRdR6QbQZ6fH19ihbM2x10ySBXAsSzHnWuNE0sXxduCpPHp8bX52RmDZswgz
0IhNi9b3Xk2Kz2feX3I0D0T1YFn5MPlTo67WKz60maGYPiQ0L0T1YNVMjTdj1aanSlNuMfntlaj5
+PwrUT3YcZI9jmy/hUT4DRJ/9rajeSCqC8tOupIRsv22XNncNKJaWLp5/gA5Skjn5trLhgAAAABJ
RU5ErkJggg==
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Nesting <code>ExprTuple</code>s is possible:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[84]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ExprTuple</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">ExprTuple</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[84]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/f0b5f81d7215760ba17fb6f7b0c1218bc292a6ee0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAVBAMAAAAjqnRBAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAAYNJREFU
KM+NkjtIA0EQhv8jufMu70JsQjCN1imMCCKkshDENCpYpbMSgkIqCwUbC2NACGKVxiJNiHZ2qbVI
Kk8QMViJID5AME1wdnbPZHMWLnx7++/Ozc5jgX+PWEeTr6PnZleCG2070vR52lXUtd1QxWcYkkT1
mx/8sZkFxtZdHPoNnT3mRc+s9ke6M0yJ5on7cVdGMEbXVEswetLkuWzQ/iYE5+S3YE7ZaRl4Hii8
IfrOysi6O/RZYsqARQfBFh/ZXURy2whkZHRwroRfpi90OKPCiXdJHSHulSIppjbTZ0edgSGCPbRb
KrfiwPBALCdbkFWyc5RQDXfqv0WZEpOlaiYeEa2waYCSCRUxD1bBAsL02WAo95X8HFJwPklbdNdY
M/Yl1fX6agNeeZ6Ak9vqVh7OcYKCoio5C+6HVEXzm0JBg7ETv10Rq32xstJKDbdQtFw1X0xrwCVO
c0rxsDqSumZIz2wasxg2PFMkvQ2updHEstv1FI8LhaE/yNTo24m2mB/3kV88f8uVXAAAAABJRU5E
rkJggg==
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It is also useful to note that, as a convenience, python lists of <strong>expressions</strong> are typically transformed automatically into an <code>ExprTuple</code> when they are passed into <strong>Prove-It</strong> methods that accept or expect them for that argument.  For example, the following generates the same <strong>expression</strong> as above.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[85]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ExprTuple</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[85]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<a class="ProveItLink" href="__pv_it/f0b5f81d7215760ba17fb6f7b0c1218bc292a6ee0/expr.html"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAVBAMAAAAjqnRBAAAAMFBMVEX////c3NwiIiJERESqqqqY
mJh2dnZmZmYQEBDu7u4yMjJUVFTMzMyIiIi6uroAAAAs73DqAAAAAXRSTlMAQObYZgAAAYNJREFU
KM+NkjtIA0EQhv8jufMu70JsQjCN1imMCCKkshDENCpYpbMSgkIqCwUbC2NACGKVxiJNiHZ2qbVI
Kk8QMViJID5AME1wdnbPZHMWLnx7++/Ozc5jgX+PWEeTr6PnZleCG2070vR52lXUtd1QxWcYkkT1
mx/8sZkFxtZdHPoNnT3mRc+s9ke6M0yJ5on7cVdGMEbXVEswetLkuWzQ/iYE5+S3YE7ZaRl4Hii8
IfrOysi6O/RZYsqARQfBFh/ZXURy2whkZHRwroRfpi90OKPCiXdJHSHulSIppjbTZ0edgSGCPbRb
KrfiwPBALCdbkFWyc5RQDXfqv0WZEpOlaiYeEa2waYCSCRUxD1bBAsL02WAo95X8HFJwPklbdNdY
M/Yl1fX6agNeeZ6Ak9vqVh7OcYKCoio5C+6HVEXzm0JBg7ETv10Rq32xstJKDbdQtFw1X0xrwCVO
c0rxsDqSumZIz2wasxg2PFMkvQ2updHEstv1FI8LhaE/yNTo24m2mB/3kV88f8uVXAAAAABJRU5E
rkJggg==
" style="display:inline;vertical-align:middle;" /></a>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Advanced-Expressions"><a name="AdvancedExprs" />Advanced Expressions<a class="anchor-link" href="#Advanced-Expressions">&#182;</a></h1><p>More advanced types of expressions will be discussed in a <a href="tutorial10_advanced_expr.ipynb">later chapter</a>.  These advanced expressions allow multi-dimensional representations of mathematical structure (for example, explicit matrix representations or quantum circuits) via the <a href="tutorial10_advanced_expr.ipynb#ExprT?ensor">`ExprArray`</a> type as well as iterated ranges within lists or tensors via the <a href="tutorial10_advanced_expr.ipynb#ExprArray">`Iter`</a> type (e.g., $x_1 +~\ldots~+ x_n$).  These advanced expression types are useful in forming explicit representations commonly used to communicate mathematical concepts.  They are not necessary, however, in general theorem proving.  One could choose not to use such constructs and only represent such concepts via implicit representations and recursion.  Following the <strong>Prove-It</strong> philosophy, however, we want to allow the use of explicit representation tied as directly as possible into our formal proofs.  But we will skip these for now so we can cover our theorem proving concepts without this extra complication.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[86]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">end</span> basic_expressions
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Next-chapter:-Proof-Basics">Next chapter: <a class="ProveItLink" href="tutorial02_proof_basics.html">Proof Basics</a><a class="anchor-link" href="#Next-chapter:-Proof-Basics">&#182;</a></h1><h2 id="Table-of-Contents"><a class="ProveItLink" href="tutorial00_introduction.html#contents">Table of Contents</a><a class="anchor-link" href="#Table-of-Contents">&#182;</a></h2>
</div>
</div>
</div>
    </div>
  </div>
<footer>
  <p>These web pages were generated on 2020-01-16 by <a href="https://github.com/PyProveIt/Prove-It">Prove-It</a> Beta Version 0.3, licensed under the GNU Public License by Sandia Corporation.</p>
  <p>Presented proofs are not absolutely guaranteed.  For assurance, it is important to check the structure 
  of the statement being proven, independently verify the derivation steps, track dependencies, and ensure that 
  employed axioms are valid and properly structured.  Inconsistencies may exist, unknowingly, in this system.
  </p>
  <p>
  This material is based upon work supported by the U.S. Department of Energy, Office of Science, Office of Advanced Scientific Computing Research, under the Quantum Computing Application Teams program. Sandia National Labs is managed and operated by National Technology and Engineering Solutions of Sandia, LLC, a subsidiary of Honeywell International, Inc., for the U.S. Dept. of Energy's NNSA under contract DE-NA0003525. The views expressed above do not necessarily represent the views of the DOE or the U.S. Government.
  </p>
  <br>
  <p>Please send questions/comments to: <a href="mailto:wwitzel@sandia.gov">
  wwitzel@sandia.gov</a>.</p>
</footer> 
</body>

 


</html>
